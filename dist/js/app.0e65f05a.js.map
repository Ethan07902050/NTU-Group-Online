{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/ChatRoom.vue?728d","webpack:///./src/services/WebsocketService.js","webpack:///./src/services/RoomService.js","webpack:///./src/services/TokenService.js","webpack:///./src/store/index.js","webpack:///./src/views/RoomCreate.vue?a533","webpack:///./src/views/UserPage.vue?73b0","webpack:///./src/App.vue","webpack:///./src/components/NavBar.vue","webpack:///./src/components/NavBar.vue?ab0f","webpack:///./src/App.vue?dfb6","webpack:///./src/main.js","webpack:///./src/components/SideBar.vue?83f4","webpack:///./src/App.vue?1834","webpack:///./src/views/MailRedirect.vue?e3d0","webpack:///./src/views/Register.vue?3459","webpack:///./src/views/RoomShow.vue?8e83","webpack:///./src/views/CommonRedirect.vue?4f0f","webpack:///./src/views/Home.vue","webpack:///./src/components/RoomCard.vue","webpack:///./src/components/RoomCard.vue?e69e","webpack:///./src/components/SideBar.vue","webpack:///./src/components/SideBar.vue?0957","webpack:///./src/views/Home.vue?ab8c","webpack:///./src/views/RoomCreate.vue","webpack:///./src/views/RoomCreate.vue?51ec","webpack:///./src/views/RoomShow.vue","webpack:///./src/components/ChatRoom.vue","webpack:///./src/components/ChatRoom.vue?8750","webpack:///./src/views/RoomShow.vue?b684","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e63b","webpack:///./src/views/UserPage.vue","webpack:///./src/views/UserPage.vue?75b1","webpack:///./src/views/MailRedirect.vue","webpack:///./src/views/MailRedirect.vue?ac89","webpack:///./src/views/CommonRedirect.vue","webpack:///./src/views/CommonRedirect.vue?ea2b","webpack:///./src/views/Register.vue","webpack:///./src/views/Register.vue?be94","webpack:///./src/router/index.js","webpack:///./src/components/NavBar.vue?7119","webpack:///./src/views/Login.vue?51fe","webpack:///./src/components/RoomCard.vue?ee95","webpack:///./src/components sync nonrecursive Base[A-Z]\\w+\\.(vue|js)$","webpack:///./src/views/Home.vue?6435"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","WsPrefix","process","NotifyWsServiceAddr","RoomWsPrefix","NotifyWsInfo","websocket","userID","token","this","RoomWsInfo","roomID","InitNotifyWebsocket","tokenPayload","jwt_decode","store","state","user_id","ws","WebSocket","onopen","sendInfo","send","JSON","stringify","notifyInfo","notifyWebsocketConn","onclose","log","InitRoomWebsocket","RoomInfo","roomWebsocketConn","axios","defaults","xsrfCookieName","xsrfHeaderName","apiDjango","baseURL","withCredentials","headers","Accept","interceptors","use","Authorization","response","res","status","dispatch","router","renameKeys","obj","newKeys","keyValues","keys","map","newKey","assign","getRooms","postRoom","room","date2","toString","keyMapping","description","capacity","category","renamedRoom","date1","getFullYear","getMonth","getDate","post","getRoom","roomId","putRoom","dict","put","getRoomMemberList","getRoomBlockList","postJoinRoom","nickname","deleteLeaveRoom","delete","deleteRoom","getRoomCategory","getRoomType","postBlockUser","userId","reason","deleteUnblockUser","deleteRemoveUser","putTransferAdmin","newAdminId","putSetLevel","getRoomInvitationList","postRoomInvite","getRoomRecord","getUserId","getUserDetail","getUserRooms","getMailVerify","userToken","postResetPassword","_password","password","postRegister","apiClient","postLogin","loginInfo","email","postVerifyToken","postRefreshToken","id","createStore","filter","is_verify","first_connect","localStorage","getItem","refreshToken","mutations","SET_TOKEN","setItem","SET_VERIFY","_is_verify","SET_UID","uid","actions","login","commit","TokenService","then","logout","removeItem","verifyToken","refresh","resetToken","access","getIsVerify","RoomService","catch","getters","getToken","isAuth","logouthandle","$route","fullPath","initWs","class","default-active","path","background-color","text-color","active-text-color","route","index","clearFilter","placeholder","searchInput","search","applyFilter","watch","created","computed","methods","$store","$router","$emit","render","__scopeId","components","NavBar","textarea","hasInitWs","notifyws","onmessage","parse","header","notify_string","val","copyClipboard","input","body","select","setSelectionRange","execCommand","testReturn","ret","testAPI","consoleText","wsConn","close","app","createApp","App","emitter","mitt","config","globalProperties","ElementPlus","VueMasonryPlugin","mount","requireComponent","require","forEach","fileName","componentConfig","componentName","upperFirst","camelCase","replace","component","default","transition-duration","item-selector","column-width","width","updateFilter","$event","sideBarList","urlMode","filteredRooms","typeDict","roomTypeDict","updateClickedRoom","imageList","title","dialogFormVisible","footer","joinRoom","model","dialogFormRoom","label-position","label","label-width","formLabelWidth","room_type","style","room_category","introduction","people_limit","user","autocomplete","clearable","body-style","image_url","imageLoadFailed","template","variant","getCategoryName","emitParent","props","Array","images","clickedRoomId","find","handler","item","url","text","RoomCard","SideBar","rooms","userRooms","includes","$message","resRefresh","params","errMsg","dic","uRoomsId","ref","show-icon","href","prop","rules","notNullrule","renderUrl","span","show-input","max","step","maxlength","show-word-limit","selectedImageCate","fetch-suggestions","querySearch","handleSelect","createRoom","loading","categoryDict","course","find_group","public","private","lesson","queryString","cb","results","createFilter","imageValues","toLowerCase","indexOf","selected","selectedCategory","el","required","trigger","Date","setHours","invite","tag","hardcreateRoom","statusText","success","entries","roomws","messages","addMessage","host","create_time","valid_time","size","round","memberFormVisible","memberList","userObj","member_id","icon","handleIconClick","suffix","confirmButtonText","confirmButtonType","cancelButtonText","iconColor","handleExitRoom","reference","isAdmin","handleEditRoom","input-size","inline","row","username","plain","handleMemberOperation","$index","handleTransferAdmin","tmp","handleSetLevel","levelDict","blockList","handleUnblockOperation","invitedUserId","handleInvitation","invitationList","roomRecord","rec","recording","myID","time","sendMessage","today","hour","getHours","minute","getMinutes","String","padStart","currentTime","newMessage","nowRoomID","parseInt","msgObj","msg_type","immediate","deep","$nextTick","$refs","messageRef","scrollIntoView","behavior","ChatRoom","exist_btn_text","access_level","admin","manager","tableData","date","address","ro","Number","init_list","showtime","getRoomObj","getInvitationList","getMemberList","getUserObj","getBlockList","handleCancelInvitation","invited_id","newLevel","handleAddModerator","parameter","blocked_user_id","operation","operationText","$prompt","inputPattern","inputErrorMessage","member","_memberList","_user","prefix-icon","native-type","block","ttoo","pu","min","forDev","Login","go","simulateLogin","form","validate","valid","createEvent","organizer","region","checkAuth","resVerify","init","location","createFreshEventObject","createFreshRoomObject","department","submit","repeatPassword","validatePass2","rule","callback","validator","submitReset","mailToken","align","register","password2","last_name","first_name","submitRegister","routes","Home","RoomCreate","RoomShow","LoginPage","RegisterPage","MailRedirect","UserPage","CommonRedirect","createRouter","history","createWebHistory","webpackEmptyContext","req","code"],"mappings":"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","file":"js/app.0e65f05a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"about\":\"e0c8357b\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ChatRoom.vue?vue&type=style&index=0&id=56787984&lang=css\"","import store from '@/store/index.js'\nimport jwt_decode from 'jwt-decode'\n\n//const WsPrefix = 'ws://127.0.0.1:8090'\nconst WsPrefix = process.env.VUE_APP_WS_SERVER\nconst NotifyWsServiceAddr = WsPrefix + '/wsServer/connection/user/'\nconst RoomWsPrefix = WsPrefix + '/ws/room/'\n\nexport class NotifyWsInfo {\n  constructor(websocket, userID, token) {\n    this.websocket = websocket\n    this.userID = userID\n    this.token = token\n  }\n}\n\nexport class RoomWsInfo {\n  constructor(websocket, userID, roomID, token) {\n    this.websocket = websocket\n    this.userID = userID\n    this.roomID = roomID\n    this.token = token\n  }\n}\n\nexport default {\n  InitNotifyWebsocket(token) {\n    let tokenPayload = jwt_decode(token)\n    store.state.user_id = tokenPayload.user_id\n    let userID = tokenPayload.user_id\n    var ws = new WebSocket(NotifyWsServiceAddr + userID)\n    ws.onopen = function () {\n      //console.log('Successful Connect')\n      let sendInfo = { user_id: userID, token: token }\n      ws.send(JSON.stringify(sendInfo))\n      var notifyInfo = new NotifyWsInfo(ws, store.state.user_id, token)\n      store.state.notifyWebsocketConn = notifyInfo\n    }\n    ws.onclose = () => {\n      console.log('Notification websocket close')\n    }\n    return ws\n  },\n  InitRoomWebsocket(token, roomID) {\n    let tokenPayload = jwt_decode(token)\n    let userID = tokenPayload.user_id\n    var ws = new WebSocket(RoomWsPrefix + roomID)\n    ws.onopen = function () {\n      let sendInfo = { user_id: userID, token: token }\n      ws.send(JSON.stringify(sendInfo))\n      var RoomInfo = new RoomWsInfo(ws, userID, roomID, token)\n      store.state.roomWebsocketConn[roomID] = RoomInfo\n    }\n    ws.onclose = () => {\n      console.log('Room ID: ' + roomID + ' websocket close')\n    }\n    return ws\n  },\n}\n\n/*\nclass roomWsInfo {\n    constructor(websocket, userID)\n}\n*/\n","import axios from 'axios'\nimport store from '@/store/index.js'\nimport router from '@/router/index.js'\n\naxios.defaults.xsrfCookieName = 'csrftoken'\naxios.defaults.xsrfHeaderName = 'X-CSRFToken'\n// axios.defaults.headers.common['Access-Control-Allow-Origin'] = '*'\n\nconst apiDjango = axios.create({\n  baseURL: process.env.VUE_APP_BACKEND,\n  // baseURL: `http://localhost:8000`,\n  withCredentials: false, // This is the default\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n})\n\napiDjango.interceptors.request.use(\n  (request) => {\n    let token = store.state.token\n    token && (request.headers.Authorization = 'Bearer ' + token)\n    return request\n  },\n  (e) => Promise.reject(e)\n)\n\napiDjango.interceptors.response.use(\n  (res) => {\n    return Promise.resolve(res)\n  },\n  (err) => {\n    if (err && err.response) {\n      switch (err.response.status) {\n        case 401:\n          console.log('登入無效')\n          store.dispatch('logout')\n          router.push('/')\n          break\n        case 404:\n          console.log('找不到該頁面')\n          break\n        case 500:\n          console.log('伺服器出錯')\n          break\n        case 503:\n          console.log('服務失效')\n          break\n        default:\n          console.log(`連接錯誤${err.response.status}`)\n      }\n    } else {\n      console.log('連接到服務器失敗')\n    }\n    return Promise.reject(err.response)\n  })\n\nexport default {\n  renameKeys(obj, newKeys) {\n    const keyValues = Object.keys(obj).map((key) => {\n      const newKey = newKeys[key] || key\n      return { [newKey]: obj[key] }\n    })\n    return Object.assign({}, ...keyValues)\n  },\n  getRooms() {\n    return apiDjango.get('/room/')\n  },\n  postRoom(room) {\n    // title, introduction, create_time, valid_time, room_type, room_category, people_limit\n    console.log('[Room]:', room.date2.toString())\n\n    const keyMapping = {\n      description: 'introduction',\n      type: 'room_type',\n      capacity: 'people_limit',\n      category: 'room_category',\n    }\n    const renamedRoom = this.renameKeys(room, keyMapping)\n    renamedRoom['valid_time'] =\n      room.date1.getFullYear() +\n      '-' +\n      (room.date1.getMonth() + 1) +\n      '-' +\n      room.date1.getDate() +\n      ' ' +\n      room.date2.toString().slice(16, 24)\n\n    console.log('[renamedRoom]:', renamedRoom)\n    return apiDjango.post('/room/', renamedRoom)\n  },\n\n  getRoom(roomId) {\n    return apiDjango.get('/room/' + roomId + '/')\n  },\n  putRoom(roomId, dict) {\n    return apiDjango.put('/room/' + roomId + '/', dict)\n  },\n  getRoomMemberList(roomId) {\n    return apiDjango.get('/room/' + roomId + '/member_list/')\n  },\n  getRoomBlockList(roomId) {\n    return apiDjango.get('/room/' + roomId + '/block_list/')\n  },\n\n  postJoinRoom(roomId, nickname) {\n    return apiDjango.post('/room/' + roomId + '/join_room/', {\n      nickname: nickname,\n    })\n  },\n  deleteLeaveRoom(roomId) {\n    return apiDjango.delete('room/' + roomId + '/leave_room/')\n  },\n  deleteRoom(roomId) {\n    return apiDjango.delete('room/' + roomId + '/')\n  },\n\n  getRoomCategory() {\n    return apiDjango.get('/room/category_list/')\n  },\n  getRoomType() {\n    return apiDjango.get('/room/type_list/')\n  },\n\n  // Block and Unblock\n  postBlockUser(roomId, userId, reason) {\n    return apiDjango.post('/room/' + roomId + '/block/' + userId + '/', {\n      reason: reason,\n    })\n  },\n  deleteUnblockUser(roomId, userId) {\n    return apiDjango.delete('/room/' + roomId + '/unblock/' + userId + '/')\n  },\n\n  // Remove User\n  deleteRemoveUser(roomId, userId, reason) {\n    return apiDjango.delete('/room/' + roomId + '/remove/' + userId + '/', {\n      reason: reason,\n    })\n  },\n\n  // Transefer Admin\n  putTransferAdmin(roomId, newAdminId) {\n    return apiDjango.put(\n      '/room/' + roomId + '/transfer_admin/' + newAdminId + '/'\n    )\n  },\n  putSetLevel(roomId, dict) {\n    return apiDjango.put('/room/' + roomId + '/set_access_level/', dict)\n  },\n\n  // Invitation\n  getRoomInvitationList(roomId) {\n    return apiDjango.get('/room/' + roomId + '/invitation/')\n  },\n  // room/6/invite/19/\n  postRoomInvite(roomId, userId) {\n    return apiDjango.post('/room/' + roomId + '/invite/' + userId + '/')\n  },\n  getRoomRecord(roomId) {\n    return apiDjango.get('/room_record/' + roomId + '/')\n  },\n\n  getUserId() {\n    return apiDjango.get('/api/user/get_id/')\n  },\n  getUserDetail(userId) {\n    return apiDjango.get('/api/user/' + userId + '/')\n  },\n  getUserRooms() {\n    return apiDjango.get('/user_room/')\n  },\n  getMailVerify(userToken, token) {\n    return apiDjango.get(\n      '/api/user/verify_email/' + userToken + '/' + token + '/'\n    )\n  },\n  postResetPassword(userToken, token, _password) {\n    return apiDjango.post(\n      '/api/user/password_reset/' + userToken + '/' + token + '/',\n      { password: _password }\n    )\n  },\n  postRegister(dict) {\n    return apiDjango.post('/api/user/register/', dict)\n  },\n}\n","import axios from 'axios'\nimport store from '@/store/index.js'\nimport router from '@/router/index.js'\n\naxios.defaults.xsrfCookieName = 'csrftoken'\naxios.defaults.xsrfHeaderName = 'X-CSRFToken'\n\n\nconst apiClient = axios.create({\n  baseURL: `http://localhost:8000`,//process.env.BACKEND,\n  // baseURL: `http://localhost:8000`,\n  withCredentials: false, // This is the default\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n})\n\napiClient.interceptors.request.use(\n  (request) => {\n    let token = store.state.token\n    token && (request.headers.Authorization = 'Bearer ' + token)\n    return request\n  },\n  (e) => Promise.reject(e)\n)\n\napiClient.interceptors.response.use(\n  (res) => {\n    return Promise.resolve(res)\n  },\n  (err) => {\n    if (err && err.response) {\n      switch (err.response.status) {\n        case 401:\n          console.log('登入無效')\n          store.dispatch('logout')\n          router.push('/')\n          break\n        case 404:\n          console.log('找不到該頁面')\n          break\n        case 500:\n          console.log('伺服器出錯')\n          break\n        case 503:\n          console.log('服務失效')\n          break\n        default:\n          console.log(`連接錯誤${err.response.status}`)\n      }\n    } else {\n      console.log('連接到服務器失敗')\n    }\n    return Promise.reject(err.response)\n  }\n)\n//console.log(apiClient.defaults.headers.common['Authorization']) \n\nexport default {\n  postLogin(loginInfo) {\n    return apiClient.post('/token/', {\n      email: loginInfo['email'],\n      password: loginInfo['password'],\n    })\n  },\n\n  postVerifyToken(token) {\n    // verify token is valid or not. /POST {token}\n    return apiClient.post('/token/verify/', token)\n  },\n\n  postRefreshToken(token) {\n    // verify token is valid or not. /POST {token}\n    return apiClient.post('/token/refresh/', token)\n  },\n\n  getRoom(id) {\n    return apiClient.get('/rooms/' + id)\n  },\n  postRoom(room) {\n    return apiClient.post('/rooms', room)\n  },\n}\n","import { createStore } from 'vuex'\nimport TokenService from '@/services/TokenService.js'\nimport RoomService from '../services/RoomService'\n//import WsService from '@/services/WebsocketService.js'\n\nexport default createStore({\n  state: {\n    filter: '',\n    roomWebsocketConn: {},\n    notifyWebsocketConn: null,\n    user_id: -1,\n    is_verify: null,\n    first_connect: true,\n    token: localStorage.getItem('token') || '',\n    refreshToken: localStorage.getItem('refresh_token') || '',\n  },\n  mutations: {\n    // setToken = (state, { token }) => state.token = token\n    SET_TOKEN(state, token) {\n      if ('access' in token) {\n        state.token = token['access']\n        localStorage.setItem('token', token['access'])\n      }\n      if ('refresh' in token) {\n        state.refreshToken = token['refresh']\n        localStorage.setItem('refresh_token', token['refresh'])\n      }\n    },\n    SET_VERIFY(state, _is_verify) {\n      state.is_verify = _is_verify\n    },\n    SET_UID(state, uid) {\n      state.user_id = uid\n    },\n  },\n  actions: {\n    login({ commit }, loginInfo) {\n      return TokenService.postLogin(loginInfo).then((res) => {\n        if (res.status == 200) {\n          commit('SET_TOKEN', res.data)\n        }\n      })\n    },\n    async logout({ dispatch }) {\n      localStorage.removeItem('token')\n      localStorage.removeItem('refresh_token')\n      await dispatch('resetToken')\n      console.log('complete logout')\n      return 'success'\n    },\n    verifyToken() {\n      return TokenService.postVerifyToken({ token: this.state.token })\n      // .catch((err)=> console.log(err))\n    },\n    refreshToken({ commit }) {\n      return TokenService.postRefreshToken({\n        refresh: this.state.refreshToken || 'invalid_refresh_token_setting_for',\n      }).then((res) => {\n        if (res.status == 200) {\n          commit('SET_TOKEN', res.data)\n          localStorage.setItem('token', res.data['access'])\n          //WsService.InitNotifyWebsocket(res.data.access)\n          return Promise.resolve(res)\n        } else {\n          console.log('[Action refreshToken]: 理論上不會出現這行', res)\n        }\n      })\n    },\n    async resetToken({ commit }) {\n      await commit('SET_TOKEN', { access: '', refresh: '' })\n      localStorage.removeItem('token')\n      localStorage.removeItem('refresh_token')\n    },\n    async getIsVerify({ commit }) {\n      let uid = -1\n      await RoomService.getUserId()\n        .then((res) => {\n          uid = res.data.id\n          return RoomService.getUserDetail(uid)\n        })\n        .then((res) => {\n          if (res.data.is_verify == true) {\n            commit('SET_VERIFY', true)\n          } else {\n            commit('SET_VERIFY', false)\n          }\n        })\n        .catch((err) => {\n          console.log('[store.getIsVerify err]:', err)\n        })\n    },\n    async getUserId({commit}){\n      await RoomService.getUserId()\n        .then((res) => {\n          commit('SET_UID', res.data.id)\n        })\n        .catch((err) => {\n          console.log('[store.getUserId err]:', err)\n        })\n    }\n  },\n  getters: {\n    getToken: (state) => state.token,\n    isAuth: (state) => !!state.token,\n  },\n  modules: {},\n})\n\n/*\nisAuth : \n如果是空的(含 '')，那就會是 false\n如果有東西，通常就是有 token (不論是否 expired)\n\n要處理可能 expired: \nif token exist:\n  refresh it\nelse:\n  login plz\n\n*/\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RoomCreate.vue?vue&type=style&index=0&id=5f43c837&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./UserPage.vue?vue&type=style&index=0&id=196d86f1&scoped=true&lang=css\"","<template>\n  <div id=\"app\">\n    <NavBar v-on:logoutsignal=\"logouthandle\" />\n    <router-view :key=\"$route.fullPath\" v-on:wsConnStart=\"initWs\" />\n    <!-- <el-input\n      type=\"textarea\"\n      :autosize=\"{ minRows: 2, maxRows: 4 }\"\n      placeholder=\"Here will show RoomWebsocketConn\"\n      v-model=\"textarea\"\n    >\n    </el-input> -->\n    <!-- \n    <el-button type=\"primary\" plain @click=\"copyClipboard()\"\n      >Copy text</el-button\n    >\n    <el-button type=\"primary\" plain @click=\"testReturn()\"\n      >test API: verify token</el-button\n    > -->\n  </div>\n</template>\n\n<script>\nimport NavBar from '@/components/NavBar.vue'\nimport { mapState } from 'vuex'\nimport WsService from '@/services/WebsocketService.js'\n//import store from '@/store/index.js'\nexport default {\n  components: {\n    NavBar,\n  },\n  data() {\n    return {\n      textarea: '',\n      hasInitWs: false,\n      notifyws: null,\n    }\n  },\n  created() {\n    this.textarea = ''\n    //------------------websocket-----------------------------\n    //這是通知的websocket,具體說明在Room Show有了\n    //靠夭啊好像做在Navbar就不用每頁去Handle了欸\n    if (this.$store.state.token && this.hasInitWs === false) {\n      this.hasInitWs = true\n      this.notifyws = WsService.InitNotifyWebsocket(this.$store.state.token) //初始化\n      this.notifyws.onmessage = (event) => {\n        console.log(event.data)\n        let res = JSON.parse(event.data) //-------收到的data-----------\n        console.log(res)\n        switch (res.header) {\n          case 'setConn': //設定連線的東西\n            if (res.res != 'Success Connect') {\n              console.log('Authentication Error or Websocket server Error')\n            }\n            break\n          case 'notify': //通知\n            //console.log(res)\n            console.log(res.notify_string)\n            if (res.notify_string === 'notify') {\n              console.log('You have notify')\n            }\n            //res.notify_string:按照開會的說法目前後端好像是說會送一個string過來,然後前端再去get,明天寫\n            break\n          case 'ping': //ping前端還有沒有活著\n            break\n        }\n      }\n    }\n    //---------------------websocket------------------------\n    if (this.$store.state.token) {\n      this.$store.dispatch('getIsVerify').then(() => {\n        console.log('is_verify:', this.$store.state.is_verify)\n      })\n    }\n  },\n  watch: {\n    roomWebsocketConn: function (val) {\n      this.textarea = val\n    },\n  },\n  computed: {\n    ...mapState(['token', 'roomWebsocketConn']),\n  },\n  methods: {\n    copyClipboard() {\n      let input = document.body.appendChild(document.createElement('input'))\n      input.setAttribute('value', this.textarea)\n      input.select()\n      input.setSelectionRange(0, 99999) /* For mobile devices */\n      document.execCommand('copy')\n      console.log(this.textarea)\n    },\n    testReturn() {\n      let ret = this.testAPI()\n      //this.consoleText = ret.then((res) => console.log('[testReturn]', res))\n      console.log('in testReturn :', ret, this.consoleText)\n    },\n    testAPI() {\n      this.$store\n        .dispatch('verifyToken', this.event)\n        .then((res) => {\n          console.log('[App.vue] testAPI, then:', res, res.data)\n          return res\n        })\n        .catch((err) => {\n          console.log(\n            '[App.vue] testAPI, catch: There was a problem in test API'\n          )\n          console.log(err.response.data)\n          return err.response.data\n        })\n    },\n    initWs: function (wsConn) {\n      console.log('emit')\n      //console.log(wsConn)\n      //console.log(this.hasInitWs)\n      if (wsConn === true && this.hasInitWs === false) {\n        this.hasInitWs = true\n        //------------------websocket-----------------------------\n        //這是通知的websocket,具體說明在Room Show有了\n        //靠夭啊好像做在Navbar就不用每頁去Handle了欸\n        // console.log(this.$store.state.token)\n        // console.log(this.$store.state.notifyWebsocketConn)\n        // console.log(\"This isn't create\")\n        if (this.$store.state.token && this.notifyws == null) {\n          console.log('initiate')\n          this.notifyws = WsService.InitNotifyWebsocket(this.$store.state.token) //初始化\n          this.notifyws.onmessage = (event) => {\n            console.log(event.data)\n            let res = JSON.parse(event.data) //-------收到的data-----------\n            console.log(res)\n            switch (res.header) {\n              case 'setConn': //設定連線的東西\n                if (res.res != 'Success Connect') {\n                  console.log('Authentication Error or Websocket server Error')\n                }\n                break\n              case 'notify': //通知\n                console.log(res.notify_string)\n                if (res.notify_string === 'notify') {\n                  console.log('You have notify')\n                  // todos: getNotificationList\n                  // ... index++\n                }\n                // notification 顯示在小鈴鐺裡面的\n                //res.notify_string:按照開會的說法目前後端好像是說會送一個string過來,然後前端再去get,明天寫\n                break\n              case 'ping': //ping前端還有沒有活著\n                break\n            }\n          }\n        }\n        //---------------------websocket------------------------\n      }\n    },\n    logouthandle: function () {\n      //logout and clean websocket\n      this.hasInitWs = false\n      console.log('websocket close')\n      if (this.notifyws != null) {\n        this.notifyws.close()\n        this.notifyws = null\n      }\n    },\n  },\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  /* text-align: center; */\n  color: #2c3e50;\n  max-height: 100%;\n}\nbody {\n  margin: 0 !important;\n}\n</style>\n","<template>\n  <div id=\"nav\" class=\"nav\">\n    <el-menu\n      :default-active=\"$route.path\"\n      class=\"el-menu-nav\"\n      mode=\"horizontal\"\n      background-color=\"#545c64\"\n      text-color=\"#fff\"\n      active-text-color=\"#ffd04b\"\n      router\n    >\n      <div class=\"menu-item-group left-group\">\n        <el-menu-item route=\"/\" index=\"/\" @click=\"clearFilter\"\n          >Homepage</el-menu-item\n        >\n        <el-menu-item class=\"plus\" route=\"/room/create\" index=\"/room/create\">\n          <i class=\"el-icon-plus\"></i>\n        </el-menu-item>\n        <el-menu-item class=\"bell\" index=\"5\">\n          <i class=\"el-icon-bell\"></i>\n        </el-menu-item>\n\n        <el-menu-item route=\"/about\" index=\"/about\"> About </el-menu-item>\n        <el-menu-item v-if=\"!isAuth\" route=\"/login\" index=\"/login\">\n          Login\n        </el-menu-item>\n        <el-menu-item @click=\"logout\"> Logout </el-menu-item>\n        <el-menu-item v-if=\"!isAuth\" route=\"/register\" index=\"/register\">\n          Register\n        </el-menu-item>\n        <el-menu-item route=\"/profile\" index=\"/profile\"> User </el-menu-item>\n      </div>\n      <div class=\"menu-item-group right-group\">\n        <el-menu-item class=\"searchbar\" index=\"/\">\n          <el-input\n            placeholder=\"搜尋\"\n            v-model=\"searchInput\"\n            @keydown=\"search\"\n          ></el-input>\n        </el-menu-item>\n        <el-menu-item class=\"search\" index=\"/\" @click=\"applyFilter\">\n          <i class=\"el-icon-search\"></i>\n        </el-menu-item>\n      </div>\n    </el-menu>\n    <!-- <router-link :to=\"{ name: 'room-show' }\">LinkTitle</router-link> -->\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nexport default {\n  data() {\n    return {\n      searchInput: '',\n    }\n  },\n  watch: {},\n  created() {\n    //this.routerIndex = this.$router.path\n  },\n  computed: {\n    ...mapGetters(['isAuth']),\n  },\n  methods: {\n    logout() {\n      this.$store\n        .dispatch('logout', {})\n        .then(() => {\n          this.$router.push({\n            name: 'home',\n          })\n        })\n        .catch(() => {\n          console.log('There was a problem when logout')\n        })\n      this.$emit('logoutsignal', true)\n    },\n    clearFilter() {\n      this.$store.state.filter = ''\n    },\n    search(e) {\n      if (e.key == 'Enter') {\n        this.applyFilter()\n      }\n    },\n    applyFilter() {\n      if (this.searchInput) {\n        this.$store.state.filter = this.searchInput\n        this.searchInput = ''\n      }\n    },\n  },\n}\n</script>\n\n<style scoped>\n/*\n.el-submenu__title:hover {\n  background-color: #000 !important;\n}\n.el-menu-item:hover {\n  background-color: #000 !important;\n}\na {\n  color: #ffffff;\n  text-decoration: none;\n}*/\n.el-menu-nav {\n  z-index: 1;\n  display: flex;\n}\n.menu-item-group {\n  display: flex;\n}\n.left-group {\n  flex-grow: 1;\n  justify-content: flex-start;\n}\n.right-group {\n  flex-grow: 1;\n  justify-content: flex-end;\n}\n.search {\n  color: white !important;\n}\n</style>\n","import { render } from \"./NavBar.vue?vue&type=template&id=2ada9471&scoped=true\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js\"\n\nimport \"./NavBar.vue?vue&type=style&index=0&id=2ada9471&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-2ada9471\"\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=371403ba\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=371403ba&lang=css\"\nscript.render = render\n\nexport default script","import upperFirst from 'lodash/upperFirst'\nimport camelCase from 'lodash/camelCase'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport ElementPlus from 'element-plus'\nimport 'element-plus/lib/theme-chalk/index.css'\nimport { VueMasonryPlugin } from 'vue-masonry/src/masonry-vue3.plugin'\nimport mitt from 'mitt' // VueMasonryPlugin Dependencies\n\nimport { createApp } from 'vue'\n//require('dotenv').config({ path: '../.env' })\n//console.log(require('dotenv').config({  path: '../.env' }))\nconsole.log(process.env.VUE_APP_BACKEND)\n\n\n// Way 1\n// const app = createApp(App)\n//   .use(store)\n//   .use(router)\n//   .use(ElementPlus)\n//   .use(VueMasonryPlugin)\n//   .mount('#app')\n\n// Way 2\nlet app = createApp(App)\nconst emitter = mitt()\napp.config.globalProperties.emitter = emitter\napp.use(store).use(router).use(ElementPlus).use(VueMasonryPlugin).mount('#app')\n\n// for auto register component with \"Base...\" prefix name.\nconst requireComponent = require.context(\n  './components',\n  false,\n  /Base[A-Z]\\w+\\.(vue|js)$/\n)\nrequireComponent.keys().forEach((fileName) => {\n  const componentConfig = requireComponent(fileName)\n\n  const componentName = upperFirst(\n    camelCase(fileName.replace(/^\\.\\/(.*)\\.\\w+$/, '$1'))\n  )\n\n  app.component(componentName, componentConfig.default || componentConfig)\n})\n\n/*new Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')*/\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SideBar.vue?vue&type=style&index=0&id=5fb2895b&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=371403ba&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MailRedirect.vue?vue&type=style&index=0&id=51d37446&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Register.vue?vue&type=style&index=0&id=9ec4355a&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RoomShow.vue?vue&type=style&index=0&id=4f684388&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CommonRedirect.vue?vue&type=style&index=0&id=2a49a6ef&scoped=true&lang=css\"","<template>\n  <div class=\"home\">\n    <!-- <RoomCard v-for=\"room in rooms\" :key=\"room.id\" :room=\"room\" /> -->\n    <el-container>\n      <el-aside width=\"160px\"\n        ><SideBar\n          v-on:applyFilter=\"updateFilter($event)\"\n          :sideBarList=\"\n            sideBarList.map((c) => ({\n              text: c,\n              url: '',\n            }))\n          \"\n          :urlMode=\"false\"\n      /></el-aside>\n      <el-main id=\"roomCardContainer\">\n        <div\n          v-masonry\n          transition-duration=\"0.2s\"\n          item-selector=\".item\"\n          column-width=\".item\"\n          class=\"rooms-container\"\n          v-if=\"filteredRooms.length > 0\"\n        >\n          <div\n            v-masonry-tile\n            class=\"item\"\n            v-for=\"(room, index) in filteredRooms\"\n            v-bind:key=\"index\"\n          >\n            <RoomCard\n              :room=\"room\"\n              :typeDict=\"roomTypeDict\"\n              @update=\"updateClickedRoom\"\n              :imageList=\"imageList\"\n            />\n          </div>\n        </div>\n        <div v-else><el-empty description=\"找不到相關結果\"></el-empty></div>\n      </el-main>\n    </el-container>\n\n    <!-- <el-card v-for=\"room in rooms\" :key=\"room.id\" class=\"box-card\">\n      <template #header>\n        <div class=\"card-header\">\n          <span>{{ room.title }}</span>\n          <el-button class=\"button\" type=\"text\"\n            ><router-link :to=\"{ name: 'room-show', params: { id: room.id } }\"\n              >進入\n            </router-link></el-button\n          >\n          <el-button\n            type=\"text\"\n            @click=\";(dialogFormRoom = room) + (dialogFormVisible = true)\"\n            >點我填表單</el-button\n          >\n        </div>\n      </template>\n      <div class=\"text item\">created by @{{ room.organizer }}</div>\n      <div class=\"text item\">{{ room.people_limit }}</div>\n      <div class=\"text item\">{{ room.introduction }}</div>\n    </el-card> -->\n\n    <el-dialog title=\"加入房間\" v-model=\"dialogFormVisible\">\n      <el-form :model=\"dialogFormRoom\" label-position=\"left\">\n        <el-form-item label=\"房間名稱\" :label-width=\"formLabelWidth\">\n          <el-form-item :label=\"dialogFormRoom.title\"></el-form-item>\n        </el-form-item>\n        <el-form-item label=\"房間 Type\" :label-width=\"formLabelWidth\">\n          <el-tag type=\"info\">{{ dialogFormRoom.room_type }}</el-tag>\n          <!-- <el-form-item :label=\"dialogFormRoom.room_type\"></el-form-item> -->\n        </el-form-item>\n        <el-form-item label=\"房間 Category\" :label-width=\"formLabelWidth\">\n          <el-tag type=\"success\" style=\"text-align: left\">{{\n            dialogFormRoom.room_category\n          }}</el-tag>\n          <!-- <el-form-item :label=\"dialogFormRoom.room_category\"></el-form-item> -->\n        </el-form-item>\n        <el-form-item label=\"簡介\" :label-width=\"formLabelWidth\" class=\"desc\">\n          <el-form-item :label=\"dialogFormRoom.introduction\"></el-form-item>\n        </el-form-item>\n        <el-form-item label=\"最大人數\" :label-width=\"formLabelWidth\">\n          <el-form-item\n            :label=\"dialogFormRoom.people_limit.toString()\"\n          ></el-form-item>\n        </el-form-item>\n        <el-form-item label=\"您的暱稱\" :label-width=\"formLabelWidth\">\n          <el-input\n            v-model=\"user.nickname\"\n            autocomplete=\"off\"\n            clearable\n            placeholder=\"請輸入暱稱\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"joinRoom\">送出</el-button>\n        </span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport RoomCard from '@/components/RoomCard.vue'\nimport SideBar from '@/components/SideBar.vue'\nimport RoomService from '@/services/RoomService.js'\n// import { ElMessage } from 'element-plus'\nimport { mapGetters } from 'vuex'\n\nexport default {\n  //name: 'RoomList',\n  components: {\n    RoomCard,\n    SideBar,\n  },\n  data() {\n    const imageList = [\n      {\n        value: '自定義',\n        url: '',\n        category: '',\n      },\n      {\n        value: '課程討論',\n        url: 'https://i.imgur.com/GIiSOLM.jpg',\n        category: 'course',\n      },\n      {\n        value: '吃飯',\n        url: 'https://i.imgur.com/kN4J0UL.jpg',\n        category: 'eating',\n      },\n      {\n        value: '爬山',\n        url: 'https://i.imgur.com/17SSeJb.png',\n        category: 'hiking',\n      },\n      {\n        value: '打籃球',\n        url: 'https://i.imgur.com/o2uS5WX.png',\n        category: 'baseketball',\n      },\n      {\n        value: '打 Apex',\n        url: 'https://i.imgur.com/PkZu9rV.jpg',\n        category: 'apex',\n      },\n      {\n        value: '玩 Switch 遊戲',\n        url: 'https://i.imgur.com/16C4zzd.png',\n        category: 'switch',\n      },\n      {\n        value: '跑步',\n        url: 'https://i.imgur.com/wc0HqRT.png',\n        category: 'running',\n      },\n      {\n        value: '團購',\n        url: 'https://i.imgur.com/hcP3JA2.png',\n        category: 'group_buying',\n      },\n      {\n        value: '逛街',\n        url: 'https://i.imgur.com/85zF3RK.jpg',\n        category: 'shopping',\n      },\n      {\n        value: '打遊戲',\n        url: 'https://i.imgur.com/ex5uIMF.jpg',\n        category: 'game',\n      },\n      {\n        value: '買衣服',\n        url: 'https://i.imgur.com/UElotjt.jpg',\n        category: 'clothing',\n      },\n      {\n        value: '麥當勞',\n        url: 'https://i.imgur.com/Ll9w1eq.png',\n        category: 'mc',\n      },\n      {\n        value: '肯德基',\n        url: 'https://i.imgur.com/NBt3Xka.jpg',\n        category: 'kfc',\n      },\n      {\n        value: '看電影',\n        url: 'https://i.imgur.com/QzZKggo.png',\n        category: 'moive',\n      },\n      {\n        value: '演唱會',\n        url: 'https://i.imgur.com/NBt3Xka.jpg',\n        category: 'live',\n      },\n      {\n        value: '打桌球',\n        url: 'https://i.imgur.com/kluQV3e.jpg',\n        category: 'tabletennis',\n      },\n      {\n        value: '讀書',\n        url: 'https://i.imgur.com/jneYUkV.jpg',\n        category: 'study',\n      },\n      {\n        value: '讀書會',\n        url: 'https://i.imgur.com/rM3O9xh.png',\n        category: 'studyclub',\n      },\n      {\n        value: '看比賽',\n        url: 'https://i.imgur.com/Yya0Www.png',\n        category: 'race',\n      },\n    ]\n    return {\n      imageList,\n      rooms: [],\n      userRooms: [],\n      dialogFormVisible: false,\n      dialogFormRoom: '',\n      formLabelWidth: '120px',\n      roomTypeDict: [],\n      sideBarList: [],\n      category: [\n        '吃飯',\n        '團購',\n        '遊戲',\n        '聊天',\n        '共乘',\n        '交易',\n        '分組',\n        '出遊',\n      ],\n      user: { nickname: '' },\n    }\n  },\n  computed: {\n    ...mapGetters(['isAuth']),\n    filteredRooms: function () {\n      if (this.$store.state.filter) {\n        // console.log(this.$store.state.filter)\n        return this.rooms.filter(\n          (room) =>\n            room.room_category.includes(this.$store.state.filter) ||\n            room.introduction.includes(this.$store.state.filter) ||\n            room.title.includes(this.$store.state.filter)\n        )\n      }\n      return this.rooms\n    },\n  },\n  created() {\n    if (this.$store.state.token && !this.$store.state.is_verify) {\n      this.$store.dispatch('getIsVerify').then(() => {\n        if (this.$store.state.is_verify == false) {\n          this.$router.push({\n            name: 'profile',\n          })\n          this.$message.error('未過 mail 認證 !')\n        }\n      })\n    }\n\n    if (this.$store.state.token) {\n      this.$store\n        .dispatch('refreshToken')\n        .then((response) => {\n          console.log('token:', response.data, '\\nstart to get some list:')\n\n          RoomService.getRooms()\n            .then((res) => {\n              this.rooms = res.data\n            })\n            .catch((err) => {\n              console.log('getRooms err :', err)\n            })\n\n          this.$store\n            .dispatch('getUserId')\n            .then(() => {\n              return RoomService.getUserDetail(this.$store.state.user_id)\n            })\n            .then((res) => {\n              this.user = res.data\n            })\n            .catch((err) => {\n              console.log('getRooms err :', err)\n            })\n\n          RoomService.getRoomCategory()\n            .then((res) => {\n              console.log('[Warning]: 目前有成功拿到資料但是沒有寫入', res.data)\n              this.sideBarList = this.imageList.map((o) => o.value)\n              // this.sideBarList = Object.values(res.data)\n            })\n            .catch((err) => {\n              console.log('getRoomCategory err :', err)\n            })\n\n          RoomService.getRoomType()\n            .then((res) => {\n              this.roomTypeDict = res.data\n            })\n            .catch((err) => {\n              console.log('getRoomType err :', err)\n            })\n\n          RoomService.getUserRooms()\n            .then((res) => {\n              this.userRooms = res.data\n            })\n            .catch((err) => {\n              console.log(err)\n            })\n          this.$emit('wsConnStart', true)\n        })\n        .catch((err) => {\n          console.log(\n            '[Home.vue.created.catch], token exist but:',\n            '\\nstatus code: ',\n            err.response.status,\n            '\\nerror message: ',\n            JSON.stringify(err.response.data)\n          )\n          if (\n            'code' in err.response.data &&\n            err.response.data['code'] == 'token_not_valid'\n          ) {\n            console.log('[Home.vue.created.catch] delete token')\n            this.$store.dispatch('resetToken')\n          }\n          this.$router.push({\n            name: 'login',\n          })\n        })\n    } else {\n      console.log('plz login !')\n      this.$message.error('請登入 !')\n      this.$router.push({\n        name: 'login',\n      })\n    }\n  },\n  methods: {\n    joinRoom() {\n      console.log('exec join room')\n\n      if (this.$store.state.token) {\n        this.$store\n          .dispatch('refreshToken', this.event)\n          .then((resRefresh) => {\n            console.log(resRefresh.data.access)\n\n            return RoomService.postJoinRoom(\n              this.dialogFormRoom.id,\n              this.user.nickname\n            )\n          })\n          .then((res) => {\n            console.log('[Success]: 已加入房間', res.data)\n            this.$router.push({\n              name: 'room-show',\n              params: { id: this.dialogFormRoom.id },\n            })\n          })\n          .catch((err) => {\n            var errMsg = err.data['error']\n            if (errMsg == 'You are already in the room.') {\n              this.$router.push({\n                name: 'room-show',\n                params: { id: this.dialogFormRoom.id },\n              })\n            }\n            // console.log(err.data['error'])\n            this.$message.error(err.data['error'])\n          })\n      }\n    },\n    updateFilter(category) {\n      this.filter = category\n    },\n    updateClickedRoom(dic) {\n      let uRoomsId = this.userRooms.map((r) => r.id)\n      if (uRoomsId.includes(dic['clickedRoomId'])) {\n        this.$router.push({\n          name: 'room-show',\n          params: { id: dic['clickedRoomId'] },\n        })\n      } else {\n        this.dialogFormVisible = dic['dialogFormVisible']\n        this.dialogFormRoom = dic['dialogFormRoom']\n      }\n    },\n  },\n}\n</script>\n<style scoped>\n.item {\n  width: 25%;\n}\n.el-form-item > label {\n  line-height: 2px;\n}\n\n.desc {\n  line-height: 2px;\n}\n/* .card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.text {\n  font-size: 14px;\n}\n\n.item {\n  margin-bottom: 18px;\n}\n\n.box-card {\n  width: 300px;\n}\n\na {\n  color: #05acdf;\n  text-decoration: none;\n} */\n</style>\n","<template>\n  <el-card :body-style=\"{ padding: '0px' }\">\n    <img\n      v-if=\"room.image_url && !imageLoadFailed\"\n      :src=\"room.image_url\"\n      class=\"image\"\n      @error=\"imageLoadFailed = true\"\n    />\n    <el-skeleton v-else>\n      <template #template>\n        <el-skeleton-item variant=\"image\" style=\"height: 150px\" />\n      </template>\n    </el-skeleton>\n    <h4>{{ room.title }}</h4>\n    <div>\n      <p>分類 :</p>\n      <el-tag type=\"success\">{{ getCategoryName() }}</el-tag>\n      <el-tag type=\"info\">{{\n        typeDict[room.room_type] ? typeDict[room.room_type] : room.room_type\n      }}</el-tag>\n    </div>\n    <div>\n      <p>人數限制 : {{ room.people_limit }}</p>\n      <p>簡介 : {{ introduction }}</p>\n      <div style=\"text-align: center\">\n        <el-button type=\"text\" @click=\"emitParent\">進入房間</el-button>\n      </div>\n    </div>\n  </el-card>\n</template>\n\n<script>\nexport default {\n  props: {\n    room: Object,\n    typeDict: Object,\n    imageList: Array,\n  },\n  computed: {\n    introduction: function () {\n      if (this.room.introduction.length > 30) {\n        return this.room.introduction.slice(0, 30) + '...'\n      }\n      return this.room.introduction\n    },\n  },\n  data() {\n    return {\n      images: [\n        'https://i.imgur.com/kN4J0UL.jpg',\n        '',\n        'https://i.imgur.com/17SSeJb.png',\n        'https://i.imgur.com/85zF3RK.jpg',\n        'https://i.imgur.com/o2uS5WX.png',\n        'https://i.imgur.com/wc0HqRT.png',\n        'https://i.imgur.com/qdIZSWc.jpg',\n        'https://i.imgur.com/GOaM9dB.jpg',\n        'https://i.imgur.com/G65qPbl.jpg',\n        'https://i.imgur.com/WxiJ6K0.jpg',\n      ],\n      // dialogFormRoom: '',\n      dialogFormVisible: false,\n      imageLoadFailed: false,\n    }\n  },\n  methods: {\n    emitParent() {\n      this.$emit('update', {\n        dialogFormRoom: this.room,\n        dialogFormVisible: true,\n        clickedRoomId: this.room.id,\n      })\n    },\n    getCategoryName() {\n      let result = this.imageList.find(\n        (o) => o.category == this.room.room_category\n      )\n\n      if (result) {\n        return result.value\n      } else {\n        return this.room.room_category\n      }\n    },\n  },\n  watch: {\n    dialogFormRoom: {\n      handler(val) {\n        this.$emit('update', { dialogFormRoom: val, dialogFormVisible: true })\n        this.dialogFormRoom = ''\n      },\n    },\n  },\n}\n</script>\n\n<style scoped>\n/* .rooms-container {\n  display: flex;\n} */\n\n.image {\n  /* max-width: 50%; */\n  max-width: 100%;\n}\n.el-card div p {\n  margin: 6px;\n  font-size: 14px;\n  text-align: left;\n  line-height: 120%;\n}\n.el-card h4 {\n  margin: 10px;\n}\n/* .rooms-container {\n  position: relative;\n  left: 2%;\n} */\n</style>\n","import { render } from \"./RoomCard.vue?vue&type=template&id=0591ce70&scoped=true\"\nimport script from \"./RoomCard.vue?vue&type=script&lang=js\"\nexport * from \"./RoomCard.vue?vue&type=script&lang=js\"\n\nimport \"./RoomCard.vue?vue&type=style&index=0&id=0591ce70&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-0591ce70\"\n\nexport default script","<template>\n  <el-menu :default-active=\"$route.path\" class=\"SideBar\" router v-if=\"urlMode\">\n    <el-menu-item\n      v-for=\"(item, index) in sideBarList\"\n      :key=\"index\"\n      :index=\"item.url\"\n      :route=\"item.url\"\n    >\n      <i class=\"el-icon-menu\"></i>\n      <span>{{ item.text }}</span>\n    </el-menu-item>\n  </el-menu>\n  <el-menu v-else class=\"SideBar\">\n    <el-scrollbar>\n      <el-menu-item\n        v-for=\"(item, index) in sideBarList\"\n        :key=\"index\"\n        :index=\"index.toString()\"\n        v-on:click=\"applyFilter(item)\"\n      >\n        <i class=\"el-icon-menu\"></i>\n        <span>{{ item.text }}</span>\n      </el-menu-item>\n    </el-scrollbar>\n  </el-menu>\n  <!-- <el-menu :default-active=\"$route.path\" class=\"SideBar\" router>\n    <el-menu-item\n      v-for=\"(item, index) in sideBarList\"\n      :key=\"index\"\n      :index=\"item.url\"\n      :route=\"item.url\"\n    >\n      <i class=\"el-icon-menu\"></i>\n      <span>{{ item.text }}</span>\n    </el-menu-item>\n  </el-menu> -->\n</template>\n\n<script>\nexport default {\n  props: ['sideBarList', 'urlMode'],\n  // data: (url_mode = ture),\n  methods: {\n    applyFilter(item) {\n      // console.log(category)\n      if (this.$store.state.filter !== item.text) {\n        this.$store.state.filter = item.text\n      } else {\n        this.$store.state.filter = ''\n      }\n    },\n  },\n}\n</script>\n\n<style>\n.SideBar {\n  height: 100%;\n  text-align: left;\n}\n.SideBar .el-menu-item span {\n  font-size: 12px;\n  font-weight: bold;\n}\n</style>\n","import { render } from \"./SideBar.vue?vue&type=template&id=5fb2895b\"\nimport script from \"./SideBar.vue?vue&type=script&lang=js\"\nexport * from \"./SideBar.vue?vue&type=script&lang=js\"\n\nimport \"./SideBar.vue?vue&type=style&index=0&id=5fb2895b&lang=css\"\nscript.render = render\n\nexport default script","import { render } from \"./Home.vue?vue&type=template&id=139dc7c4&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=139dc7c4&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-139dc7c4\"\n\nexport default script","<template>\n  <!-- id, title, introduction, create_time, valid_time, room_type, room_category,\n  people_limit -->\n\n  <div>\n    <el-container class=\"create-form\">\n      <el-form ref=\"form\" :model=\"room\" label-width=\"80px\" @submit.prevent>\n        <el-alert\n          title=\"您尚未登入，登入後才能建立房間。\"\n          type=\"warning\"\n          show-icon\n          v-if=\"!isAuth\"\n        >\n          <el-link href=\"/login\" type=\"primary\">點我登入</el-link>\n        </el-alert>\n        <h1>Create an Room</h1>\n        <el-form-item prop=\"title\" label=\"房間標題\" :rules=\"notNullrule\">\n          <el-input\n            v-model=\"room.title\"\n            placeholder=\"請填入房間標題\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"您的暱稱\" prop=\"nickname\" :rules=\"notNullrule\">\n          <el-input v-model=\"room.nickname\" placeholder=\"請填入暱稱\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"房間分類\" prop=\"category\" :rules=\"notNullrule\">\n          <el-select\n            v-model=\"room.category\"\n            placeholder=\"choose category\"\n            @change=\"renderUrl\"\n          >\n            <el-option\n              v-for=\"category in imageList\"\n              :label=\"category.value\"\n              :key=\"category.category\"\n              :value=\"category.category\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"關房時間\">\n          <el-col :span=\"11\">\n            <el-date-picker\n              type=\"date\"\n              placeholder=\"Choose Date\"\n              v-model=\"room.date1\"\n              style=\"width: 100%\"\n            ></el-date-picker>\n          </el-col>\n          <el-col class=\"line\" :span=\"2\">-</el-col>\n          <el-col :span=\"11\">\n            <el-time-picker\n              placeholder=\"Choose Time\"\n              v-model=\"room.date2\"\n              style=\"width: 100%\"\n            ></el-time-picker>\n          </el-col>\n        </el-form-item>\n        <!-- <el-form-item label=\"允許邀請\">\n          <el-switch v-model=\"room.invite\"></el-switch>\n        </el-form-item> \n        <el-form-item label=\"Tag\">\n          <el-checkbox-group v-model=\"room.tag\">\n            <el-checkbox label=\"吃\" name=\"type\"></el-checkbox>\n            <el-checkbox label=\"衣服\" name=\"type\"></el-checkbox>\n          </el-checkbox-group>\n        </el-form-item>-->\n        <el-form-item label=\"房間類型\">\n          <el-radio-group v-model=\"room.type\">\n            <el-radio\n              v-for=\"(item, key) in roomTypeDict\"\n              :label=\"key\"\n              :key=\"key\"\n            >\n              {{ item }}\n            </el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"最大人數\" @submit.prevent>\n          <el-slider v-model=\"room.capacity\" show-input :max=\"100\" :step=\"5\">\n          </el-slider>\n        </el-form-item>\n        <el-form-item prop=\"description\" :rules=\"notNullrule\">\n          <template #label>\n            <span>簡介</span>\n          </template>\n          <el-input\n            type=\"textarea\"\n            placeholder=\"Enter description of your room:\"\n            v-model=\"room.description\"\n            maxlength=\"100\"\n            show-word-limit\n          >\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"封面照片\">\n          <el-autocomplete\n            class=\"inline-input\"\n            v-model=\"selectedImageCate\"\n            :fetch-suggestions=\"querySearch\"\n            placeholder=\"請輸入內容\"\n            @select=\"handleSelect\"\n          ></el-autocomplete>\n          <el-input\n            v-model=\"room.image_url\"\n            placeholder=\"可放可不放，建議上傳 imgur 並複製圖片網址(.jpg 或 .png 結尾)\"\n            clearable\n          ></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"createRoom\" :loading=\"loading\"\n            >Create Room</el-button\n          >\n          <!-- @submit.prevent=\"createEvent\" -->\n          <el-button>Cancel</el-button>\n        </el-form-item>\n      </el-form>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport RoomService from '@/services/RoomService.js'\nimport { mapGetters } from 'vuex'\n// import { ElMessage } from 'element-plus'\n\nexport default {\n  components: null,\n  data() {\n    const categoryDict = { course: '課程討論', find_group: '尋求組隊' }\n    const roomTypeDict = {\n      public: '公開',\n      private: '私人',\n      lesson: '課程',\n    }\n    const imageList = [\n      {\n        value: '自定義',\n        url: '',\n        category: '',\n      },\n      {\n        value: '課程討論',\n        url: 'https://i.imgur.com/GIiSOLM.jpg',\n        category: 'course',\n      },\n      {\n        value: '吃飯',\n        url: 'https://i.imgur.com/kN4J0UL.jpg',\n        category: 'eating',\n      },\n      {\n        value: '爬山',\n        url: 'https://i.imgur.com/17SSeJb.png',\n        category: 'hiking',\n      },\n      {\n        value: '打籃球',\n        url: 'https://i.imgur.com/o2uS5WX.png',\n        category: 'baseketball',\n      },\n      {\n        value: '打 Apex',\n        url: 'https://i.imgur.com/PkZu9rV.jpg',\n        category: 'apex',\n      },\n      {\n        value: '玩 Switch 遊戲',\n        url: 'https://i.imgur.com/16C4zzd.png',\n        category: 'switch',\n      },\n      {\n        value: '跑步',\n        url: 'https://i.imgur.com/wc0HqRT.png',\n        category: 'running',\n      },\n      {\n        value: '團購',\n        url: 'https://i.imgur.com/hcP3JA2.png',\n        category: 'group_buying',\n      },\n      {\n        value: '逛街',\n        url: 'https://i.imgur.com/85zF3RK.jpg',\n        category: 'shopping',\n      },\n      {\n        value: '打遊戲',\n        url: 'https://i.imgur.com/ex5uIMF.jpg',\n        category: 'game',\n      },\n      {\n        value: '買衣服',\n        url: 'https://i.imgur.com/UElotjt.jpg',\n        category: 'clothing',\n      },\n      {\n        value: '麥當勞',\n        url: 'https://i.imgur.com/Ll9w1eq.png',\n        category: 'mc',\n      },\n      {\n        value: '肯德基',\n        url: 'https://i.imgur.com/NBt3Xka.jpg',\n        category: 'kfc',\n      },\n      {\n        value: '看電影',\n        url: 'https://i.imgur.com/QzZKggo.png',\n        category: 'moive',\n      },\n      {\n        value: '演唱會',\n        url: 'https://i.imgur.com/NBt3Xka.jpg',\n        category: 'live',\n      },\n      {\n        value: '打桌球',\n        url: 'https://i.imgur.com/kluQV3e.jpg',\n        category: 'tabletennis',\n      },\n      {\n        value: '讀書',\n        url: 'https://i.imgur.com/jneYUkV.jpg',\n        category: 'study',\n      },\n      {\n        value: '讀書會',\n        url: 'https://i.imgur.com/rM3O9xh.png',\n        category: 'studyclub',\n      },\n      {\n        value: '看比賽',\n        url: 'https://i.imgur.com/Yya0Www.png',\n        category: 'race',\n      },\n    ]\n    const querySearch = (queryString, cb) => {\n      //let imageValues = imageList.map((i) => ({ value: i.value }))\n      var results = queryString\n        ? imageList.filter(createFilter(queryString))\n        : imageList\n      // 调用 callback 返回建议列表的数据\n      console.log('results:', results)\n\n      cb(results)\n    }\n    const createFilter = (queryString) => {\n      return (imageValues) => {\n        return (\n          imageValues.value.toLowerCase().indexOf(queryString.toLowerCase()) ===\n          0\n        )\n      }\n    }\n    const handleSelect = (item) => {\n      this.room.image_url = item.url\n    }\n    const renderUrl = (selected) => {\n      let selectedCategory = this.imageList.find(\n        (el) => el.category == selected\n      )\n      if (selectedCategory) {\n        this.room.image_url = selectedCategory.url\n        this.selectedImageCate = selectedCategory.value\n      }\n    }\n    return {\n      categoryDict,\n      roomTypeDict,\n      imageList,\n      querySearch,\n      createFilter,\n      handleSelect,\n      renderUrl,\n      loading: false,\n      selectedImageCate: '',\n      notNullrule: { required: true, message: '不能為空', trigger: 'blur' },\n      room: {\n        title: '',\n        nickname: '房主',\n        capacity: 10,\n        category: '',\n        date1: new Date(),\n        date2: new Date(new Date().setHours(23, 59, 59)),\n        invite: false,\n        tag: [],\n        type: 'public',\n        description: '',\n        image_url: '',\n      },\n    }\n  },\n  created() {\n    if (!this.$store.state.token) {\n      console.log('plz login !')\n      this.$router.push({\n        name: 'login',\n      })\n    }\n    if (this.$store.state.token && !this.$store.state.is_verify) {\n      this.$store.dispatch('getIsVerify').then(() => {\n        if (this.$store.state.is_verify == false) {\n          this.$router.push({\n            name: 'profile',\n          })\n          this.$message.error('未過 mail 認證 !')\n        }\n      })\n    }\n  },\n  methods: {\n    hardcreateRoom() {\n      if (this.$store.state.token) {\n        this.$store\n          .dispatch('refreshToken')\n          .then((resRefresh) => {\n            console.log('resRefresh token:', resRefresh.data)\n            this.loading = true\n            return RoomService.postRoom(this.room)\n          })\n          .then((res) => {\n            if (res.status == 201) {\n              console.log(res.statusText)\n            }\n            this.$message.success(res.statusText)\n            this.loading = false\n          })\n          .catch((err) => {\n            console.log('[Warning ! 401 401 401 !]')\n\n            this.loading = false\n            console.log(\n              '[RoomCreate.vue.created.catch], token exist but:',\n              '\\nstatus code: ',\n              err.response.status,\n              '\\nerror message: ',\n              JSON.stringify(err.response.data)\n            )\n            if (\n              'code' in err.response.data &&\n              err.response.data['code'] == 'token_not_valid'\n            ) {\n              console.log('[RoomCreate.vue.createRoom.catch] delete token')\n              this.$store.dispatch('resetToken')\n              this.$router.push({\n                name: 'login',\n              })\n            }\n            this.$message.error(JSON.stringify(err.response.data))\n          })\n      } else {\n        console.log('plz login !')\n        // window.location.href = '/login'\n        this.$router.push({\n          name: 'login',\n        })\n      }\n\n      // this.$store\n      //   .dispatch('createEvent', this.event)\n      //   .then(() => {\n      //     this.$router.push({\n      //       name: 'event-show',\n      //       params: { id: this.event.id },\n      //     })\n      //     this.event = this.createFreshEventObject()\n      //   })\n      //   .catch(() => {\n      //     console.log('There was a problem creating your event')\n      //   })\n    },\n    createRoom() {\n      if (this.$store.state.token) {\n        return this.$store\n          .dispatch('refreshToken')\n          .then((res) => {\n            if (res.status != 200) {\n              return Promise.reject('refresh token err')\n            }\n            this.loading = true\n            return RoomService.postRoom(this.room)\n          })\n          .then((res) => {\n            console.log('res in CreateRoom:', res)\n            this.$message.success(res.statusText)\n            this.loading = false\n            this.$router.push({\n              name: 'room-show',\n              params: { id: res.data.id },\n            })\n          })\n          .catch((err) => {\n            console.log('err in CreateRoom:', err.data, Object.keys(err.data))\n            for (let [key, val] of Object.entries(err.data)) {\n              this.$message.error(key + ': ' + val[0])\n            }\n            this.loading = false\n          })\n      } else {\n        console.log('plz login !')\n        this.$router.push({\n          name: 'login',\n        })\n      }\n    },\n  },\n  computed: {\n    ...mapGetters(['isAuth']),\n  },\n}\n</script>\n<style scoped>\n.create-form {\n  justify-content: center;\n}\n</style>\n","import { render } from \"./RoomCreate.vue?vue&type=template&id=5f43c837&scoped=true\"\nimport script from \"./RoomCreate.vue?vue&type=script&lang=js\"\nexport * from \"./RoomCreate.vue?vue&type=script&lang=js\"\n\nimport \"./RoomCreate.vue?vue&type=style&index=0&id=5f43c837&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-5f43c837\"\n\nexport default script","<template>\n  <el-container class=\"mainContainer\">\n    <el-aside class=\"SideBarContainer\"\n      ><SideBar\n        :sideBarList=\"\n          userRooms.map((r) => ({ text: r.title, url: '/room/' + r.id + '/' }))\n        \"\n        :urlMode=\"true\"\n    /></el-aside>\n    <el-main class=\"chatRoomContainer\">\n      <ChatRoom\n        :roomws=\"roomws\"\n        :messages=\"messages\"\n        v-on:addMessage=\"addMessage\"\n      />\n    </el-main>\n    <el-aside class=\"roomInfo\">\n      <el-scrollbar>\n        <h5 class=\"title\">{{ room.title }}</h5>\n        <el-divider></el-divider>\n        <div>\n          <h5>房主</h5>\n          <p>{{ host ? host : '' }}</p>\n        </div>\n        <el-divider></el-divider>\n        <div>\n          <h5>房間開放時間</h5>\n          <p>\n            {{ !room.create_time ? '未指定' : room.create_time.slice(0, 10) }}\n            {{ !room.create_time ? '' : room.create_time.slice(11, 19) }}\n            ~<br />\n            {{ !room.valid_time ? '未指定' : room.valid_time.slice(0, 10) }}\n            {{ !room.valid_time ? '' : room.valid_time.slice(11, 19) }}\n          </p>\n        </div>\n        <el-divider></el-divider>\n        <div>\n          <h5>\n            房間簡介<i\n              class=\"el-icon-edit el-input__icon\"\n              @click=\"dialogFormVisible = true\"\n            ></i>\n          </h5>\n          <p>{{ room.introduction }}</p>\n        </div>\n        <el-divider></el-divider>\n        <div>\n          <h5>分類</h5>\n          <el-button size=\"mini\" round>{{ room.room_category }}</el-button>\n        </div>\n        <el-divider></el-divider>\n        <div>\n          <h5>\n            成員列表<i\n              class=\"el-icon-edit el-input__icon\"\n              @click=\"memberFormVisible = true\"\n            ></i>\n          </h5>\n          <div\n            class=\"member\"\n            v-for=\"userObj in memberList\"\n            :key=\"userObj.member_id\"\n          >\n            <el-avatar size=\"small\" icon=\"el-icon-user-solid\"></el-avatar>\n            <p class=\"username\">{{ userObj.nickname }}</p>\n          </div>\n        </div>\n        <el-divider></el-divider>\n        <div>\n          <h5>\n            限制人數\n            <i class=\"el-icon-edit el-input__icon\" @click=\"handleIconClick\"></i>\n          </h5>\n          <p>{{ room.room_type == 'lesson' ? '無限制' : room.people_limit }}</p>\n        </div>\n        <el-divider></el-divider>\n        <div>\n          <h5>測試 input</h5>\n          <el-input placeholder=\"請輸入內容\" clearable>\n            <template #suffix>\n              <i class=\"el-icon-edit el-input__icon\" @click=\"handleIconClick\">\n              </i>\n            </template>\n          </el-input>\n        </div>\n        <el-divider></el-divider>\n        <div>\n          <h5>離開房間</h5>\n          <el-popconfirm\n            confirmButtonText=\"離開\"\n            confirmButtonType=\"danger\"\n            cancelButtonText=\"取消\"\n            icon=\"el-icon-info\"\n            iconColor=\"red\"\n            title=\"確定離開 ? 離開後將不會是成員。若您是房主會直接刪除房間。\"\n            @confirm=\"handleExitRoom\"\n          >\n            <template #reference>\n              <el-button type=\"danger\" round>離開房間</el-button>\n            </template>\n          </el-popconfirm>\n        </div>\n      </el-scrollbar>\n    </el-aside>\n  </el-container>\n  <el-dialog title=\"編輯房間\" v-model=\"dialogFormVisible\" v-if=\"isAdmin\">\n    <el-form :model=\"dialogFormRoom\">\n      <el-form-item label=\"房間名稱\">\n        <el-input v-model=\"dialogFormRoom.title\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"房間 Category\">\n        <el-select\n          v-model=\"dialogFormRoom.room_category\"\n          placeholder=\"選擇房間分類\"\n        >\n          <el-option\n            v-for=\"(item, key) in categoryDict\"\n            :label=\"item\"\n            :key=\"item\"\n            :value=\"key\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"簡介\">\n        <el-input\n          type=\"textarea\"\n          placeholder=\"Enter description of your room:\"\n          v-model=\"dialogFormRoom.introduction\"\n          maxlength=\"100\"\n          show-word-limit\n        >\n        </el-input>\n      </el-form-item>\n      <el-form-item @submit.prevent>\n        <span>最大人數</span>\n        <el-slider\n          v-model=\"dialogFormRoom.people_limit\"\n          show-input\n          :max=\"100\"\n          :step=\"5\"\n          input-size=\"mini\"\n        >\n        </el-slider>\n      </el-form-item>\n    </el-form>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取消</el-button>\n        <el-button\n          type=\"primary\"\n          @click=\";[(handleEditRoom(), (dialogFormVisible = false))]\"\n          >送出</el-button\n        >\n      </span>\n    </template>\n  </el-dialog>\n  <el-dialog v-model=\"memberFormVisible\">\n    <h3>成員列表</h3>\n    <el-table :data=\"memberList\" style=\"width: 100%\">\n      <el-table-column type=\"expand\">\n        <template #default=\"props\">\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n            <el-form-item label=\"學號\">\n              <span>{{ props.row.username }}</span>\n            </el-form-item>\n            <el-form-item label=\"暱稱\">\n              <span>{{ props.row.nickname }}</span>\n            </el-form-item>\n            <el-form-item\n              label=\"操作\"\n              v-if=\"isAdmin && user.member_id != props.row.member_id\"\n            >\n              <el-button\n                size=\"mini\"\n                type=\"warning\"\n                plain\n                @click=\"\n                  handleMemberOperation(props.$index, props.row, 'remove')\n                \"\n                >踢出房間</el-button\n              >\n              <el-button\n                size=\"mini\"\n                type=\"danger\"\n                @click=\"handleMemberOperation(props.$index, props.row, 'block')\"\n                >封鎖</el-button\n              >\n              <el-popconfirm\n                confirmButtonText=\"確認\"\n                cancelButtonText=\"取消\"\n                icon=\"el-icon-info\"\n                iconColor=\"red\"\n                title=\"確定轉移房主身分給他 ? 您將降級為無權限用戶。\"\n                @confirm=\"handleTransferAdmin(props.row)\"\n              >\n                <template #reference>\n                  <el-button size=\"mini\" type=\"danger\" plain\n                    >將房主轉移給他</el-button\n                  >\n                </template>\n              </el-popconfirm>\n            </el-form-item>\n            <el-form-item\n              label=\"更改階級成:\"\n              v-if=\"isAdmin && user.member_id != props.row.member_id\"\n            >\n              <el-select\n                v-model=\"tmp\"\n                @change=\"handleSetLevel($event, props.row.member_id)\"\n              >\n                <el-option\n                  v-for=\"(val, key) in levelDict\"\n                  :key=\"key\"\n                  :label=\"val\"\n                  :value=\"key\"\n                >\n                </el-option>\n              </el-select>\n            </el-form-item>\n          </el-form>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"學號\" prop=\"username\"> </el-table-column>\n      <el-table-column label=\"暱稱\" prop=\"nickname\"></el-table-column>\n      <el-table-column label=\"階級\" prop=\"access_level\"></el-table-column>\n    </el-table>\n    <h3>Block 列表</h3>\n    <el-table :data=\"blockList\" style=\"width: 100%\">\n      <el-table-column type=\"expand\">\n        <template #default=\"props\">\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n            <el-form-item label=\"操作者\">\n              <span>{{\n                memberList.filter(\n                  (m) => m.member_id == props.row.block_manager_id\n                )[0].nickname +\n                '(' +\n                props.row.block_manager_id +\n                ')'\n              }}</span>\n            </el-form-item>\n            <el-form-item label=\"操作\" v-if=\"isAdmin\">\n              <el-popconfirm\n                confirmButtonText=\"確認\"\n                cancelButtonText=\"取消\"\n                icon=\"el-icon-info\"\n                iconColor=\"red\"\n                title=\"確定解除封鎖 ?\"\n                @confirm=\"handleUnblockOperation(props.row)\"\n              >\n                <template #reference>\n                  <el-button size=\"mini\" type=\"danger\">解除封鎖</el-button>\n                </template>\n              </el-popconfirm>\n            </el-form-item>\n          </el-form>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"blocked_user_id\" label=\"學號\"> </el-table-column>\n      <el-table-column prop=\"reason\" label=\"原因\"></el-table-column>\n    </el-table>\n    <h3>邀請列表</h3>\n    <el-form :inline=\"true\" class=\"demo-form-inline\">\n      <el-form-item label=\"請輸入欲邀請學號\">\n        <el-input v-model=\"invitedUserId\" placeholder=\"學號\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"handleInvitation\">邀請</el-button>\n      </el-form-item>\n    </el-form>\n    <el-table :data=\"invitationList\" style=\"width: 100%\">\n      <!-- <el-table-column type=\"expand\">\n        <template #default=\"props\">\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n            <el-form-item label=\"操作\" v-if=\"isAdmin\">\n              <el-popconfirm\n                confirmButtonText=\"確認\"\n                cancelButtonText=\"取消\"\n                icon=\"el-icon-info\"\n                iconColor=\"red\"\n                title=\"確定取消邀請 ?\"\n                @confirm=\"handleCancelInvitation(props.row)\"\n              >\n                <template #reference>\n                  <el-button size=\"mini\" type=\"danger\">取消邀請</el-button>\n                </template>\n              </el-popconfirm>\n            </el-form-item>\n          </el-form>\n        </template>\n      </el-table-column> -->\n      <el-table-column\n        prop=\"invited_username\"\n        label=\"被邀請者\"\n      ></el-table-column>\n      <el-table-column prop=\"inviter_username\" label=\"邀請者\"></el-table-column>\n    </el-table>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"memberFormVisible = false\"\n          >關閉</el-button\n        >\n      </span>\n    </template>\n    <h3>Room Record</h3>\n    <div>\n      <span\n        v-for=\"rec in roomRecord.slice(\n          roomRecord.length - 5,\n          roomRecord.length\n        )\"\n        :key=\"rec\"\n        >{{ rec.recording }}<br\n      /></span>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport RoomService from '@/services/RoomService.js'\nimport SideBar from '@/components/SideBar.vue'\nimport ChatRoom from '@/components/ChatRoom.vue'\nimport WsService from '@/services/WebsocketService.js'\n\nexport default {\n  props: ['id'],\n  components: {\n    SideBar,\n    ChatRoom,\n  },\n  data() {\n    return {\n      exist_btn_text: '離開房間',\n      tmp: '',\n      invitedUserId: '',\n      user: {\n        access_level: 'user',\n      },\n      memberList: [],\n      invitationList: [],\n      blockList: [],\n      categoryDict: {},\n      userRooms: [],\n      levelDict: { admin: '房主', manager: '房管', user: '普通用戶' },\n      host: '',\n      roomRecord: '',\n      dialogFormVisible: false,\n      isAdmin: false,\n      room: {\n        id: 0,\n        title: 'Loading Not Successful',\n        introduction: 'Loading Not Successful',\n        create_time: '2000-01-01T20:33:33.033448+08:00',\n        valid_time: '2000-01-01T20:33:33.033448+08:00',\n        room_type: 'private',\n        room_category: 'course',\n        people_limit: 1,\n      },\n      tableData: [\n        {\n          date: '2010-01-01',\n          name: '',\n          address: '',\n        },\n      ],\n      dialogFormRoom: {},\n      memberFormVisible: false,\n      roomws: {},\n      messages: [],\n    }\n  },\n  async created() {\n    if (this.$store.state.token && !this.$store.state.is_verify) {\n      this.$store.dispatch('getIsVerify').then(() => {\n        console.log('未過 mail 認證 !')\n        if (this.$store.state.is_verify == false) {\n          this.$router.push({\n            name: 'profile',\n          })\n          this.$message.error('未過 mail 認證 !')\n        }\n      })\n    }\n\n    if (this.$store.state.token) {\n      this.$store\n        .dispatch('refreshToken')\n        .then((resRefresh) => {\n          console.log(resRefresh)\n          return this.getUserRooms()\n        })\n        .then((res) => {\n          if (res.data.map((ro) => ro.id).includes(Number(this.id))) {\n            this.userRooms = res.data\n            return this.init_list()\n          } else {\n            this.$message.error('你怎麼進來的 = =')\n            return Promise.reject('user not in room !')\n          }\n        })\n        .catch((err) => {\n          // if refresh token is invalid, it will trigger 401 and redirect to Login auto.\n          // so here we don't need to handle it.\n          console.log(err)\n        })\n    } else {\n      this.$message.error('請登入 !')\n      this.$router.push({\n        name: 'login',\n      })\n    }\n    //---------------------websocket-------------------------------\n    if (this.$store.state.roomWebsocketConn[this.$route.params.id] == null) {\n      console.log(\n        'this.$store.state.roomWebsocketConn[this.$route.params.id] == null'\n      )\n\n      this.roomws[this.$route.params.id] = WsService.InitRoomWebsocket(\n        this.$store.state.token,\n        this.$route.params.id\n      ) //初始化\n      let nowRoomID = this.$route.params.id //取得目前的Room ID\n      console.log(this.roomws[nowRoomID])\n\n      this.roomws[nowRoomID].onmessage = (event) => {\n        console.log(event.data)\n        let res = JSON.parse(event.data) //訊息的data\n        let showtime = null\n        //-------按照header判斷訊息種類---------\n        switch (res.header) {\n          case 'message': //-----正常傳訊息會是這個header-------\n            // console.log(res.userID, res.roomID, res.nickname, res.message)\n            showtime = new Date(res.time) //5.訊息的時間 用js就能Parse出來了\n            var hour = showtime.getHours()\n            var minute = showtime.getMinutes()\n            hour = String(hour).padStart(2, '0')\n            minute = String(minute).padStart(2, '0')\n            var currentTime = `${hour}:${minute}`\n            var newMessage = {\n              user: res.userID,\n              text: res.message,\n              time: currentTime,\n            }\n            this.messages.push(newMessage)\n            //--------------以上可以自由運用----------------------\n            /* 這邊原本是要顯示訊息的code，但我不會Element UI跟Vue的高端寫法，只好交給前端去做\n            console.log(this.$store.state.user_id)\n            if (res.userId != this.$store.state.user_id) {\n              this.messages.push({\n                id: res.userID,\n                user: res.username,\n                time: String(showtime.getHours()) + String(showtime.getMinutes()),\n                text: res.message,\n              })\n            }\n            */\n            break\n          case 'update':\n            console.log(res.roomID) //送到的room ID\n            console.log(res.message) //我們要update廣播的message\n            // message = [ 'memberList', 'invitationList', 'blockList', 'RoomProfile' ...  ]\n            console.log(res.time) //送出這個訊息的時間\n            break\n          case 'ping': //也是確認websocket還有沒有活著的部份\n            break\n        }\n      }\n    }\n\n    //--------------------websocket-------------------------------\n  },\n  methods: {\n    init_list() {\n      this.getRoomObj()\n        .then((res) => {\n          this.room = res\n          this.dialogFormRoom = { ...res }\n          console.log(res)\n        })\n        .catch((err) => {\n          console.log(err)\n        })\n\n      this.getInvitationList()\n        .then((res) => {\n          this.invitationList = res.data\n          console.log('invitationList', res.data)\n        })\n        .catch((err) => {\n          console.log(err.data)\n        })\n\n      this.getMemberList()\n        .then((res) => {\n          this.memberList = res.data\n          this.host = res.data.filter(\n            (user) => user.access_level == 'admin'\n          )[0].nickname\n          console.log('memberList: ', res.data)\n          return this.getUserObj()\n        })\n        .catch((err) => {\n          console.log(err.data)\n        })\n\n      this.getBlockList()\n        .then((res) => {\n          this.blockList = res.data\n          console.log('blockList:', res.data)\n        })\n        .catch((err) => {\n          console.log(err.data)\n        })\n\n      this.getInvitationList()\n        .then((res) => {\n          this.invitationList = res.data\n          console.log('invitationList:', res.data)\n        })\n        .catch((err) => {\n          console.log(err.data)\n        })\n\n      this.getRoomRecord()\n        .then((res) => {\n          this.roomRecord = res.data\n          console.log('roomRecord:', res.data)\n        })\n        .catch((err) => {\n          console.log(err.data)\n        })\n\n      this.getRoomCategory()\n        .then((res) => {\n          this.categoryDict = res.data\n          console.log('categoryDict:', res.data)\n        })\n        .catch((err) => {\n          console.log(err.data)\n        })\n    },\n    getUserObj() {\n      RoomService.getUserId()\n        .then((res) => {\n          let userId = res.data.id\n          let userObj = this.memberList.filter((m) => m.member_id == userId)[0]\n          if (userObj) {\n            this.user = userObj\n          }\n        })\n        .catch((err) => {\n          return Promise.reject(err)\n        })\n    },\n    getRoomObj() {\n      return new Promise((resolve, reject) => {\n        RoomService.getRoom(this.id)\n          .then((response) => {\n            resolve(response.data)\n          })\n          .catch((error) => {\n            console.log('There was an error:', JSON.stringify(error.response))\n            reject(error.data) //\n          })\n      })\n    },\n    getMemberList() {\n      return RoomService.getRoomMemberList(this.id)\n    },\n    getBlockList() {\n      return RoomService.getRoomBlockList(this.id)\n    },\n    getInvitationList() {\n      return RoomService.getRoomInvitationList(this.id)\n    },\n    getRoomRecord() {\n      return RoomService.getRoomRecord(this.id)\n    },\n    getRoomCategory() {\n      return RoomService.getRoomCategory()\n    },\n    getUserRooms() {\n      return RoomService.getUserRooms()\n    },\n    handleEditRoom() {\n      RoomService.putRoom(this.id, this.dialogFormRoom)\n        .then((res) => {\n          console.log('[Success] 成功修改房間，成果:', res.data)\n          this.room = res.data\n        })\n        .catch((err) => {\n          console.log(err)\n        })\n    },\n    handleExitRoom() {\n      if (this.user.access_level == 'admin') {\n        RoomService.deleteRoom(this.id).catch((err) => {\n          this.$message.error(err.data.error)\n        })\n      } else {\n        RoomService.deleteLeaveRoom(this.id).catch((err) => {\n          this.$message.error(err.data.error)\n        })\n      }\n\n      this.$router.push({\n        name: 'home',\n      })\n      return\n    },\n    handleInvitation() {\n      RoomService.postRoomInvite(this.id, this.invitedUserId)\n        .then(() => {\n          console.log('postRoomInvite Successful')\n          return this.getInvitationList()\n        })\n        .then((res) => {\n          this.invitationList = res.data\n        })\n        .catch((err) => {\n          this.$message.error(err.data.error)\n        })\n    },\n    handleCancelInvitation(row) {\n      console.log(row.invited_id)\n    },\n    handleSetLevel(newLevel, userId) {\n      RoomService.putSetLevel(this.id, { [userId]: newLevel })\n        .then(() => {\n          console.log('suc')\n          return this.getMemberList()\n        })\n        .then((res) => {\n          this.memberList = res.data\n          console.log('[Success]', userId, '的階級改成', newLevel)\n          this.$message.success('修改階級成功 !')\n        })\n        .catch((err) => {\n          this.$message.error('handleSetLevel:', err.data.error)\n        })\n    },\n    handleAddModerator(row) {\n      let parameter = {}\n      parameter[row.member_id] = ''\n      console.log(parameter)\n    },\n    handleTransferAdmin(row) {\n      RoomService.putTransferAdmin(this.id, row.member_id)\n        .then(() => {\n          return this.getBlockList()\n        })\n        .catch((err) => {\n          console.log(err)\n        })\n    },\n    handleUnblockOperation(row) {\n      RoomService.deleteUnblockUser(this.id, row.blocked_user_id)\n        .then(() => {\n          console.log('[Success] 解除封鎖成功，對象:', row.blocked_user_id)\n          this.blockList = this.blockList.filter(\n            (m) => m.blocked_user_id != row.blocked_user_id\n          )\n        })\n        .catch((err) => {\n          console.log(err)\n        })\n    },\n    handleMemberOperation(id, row, operation) {\n      var operationText = operation == 'block' ? '封鎖' : '踢出房間'\n      this.$prompt(\n        '執行原因',\n        '將 ' + row.nickname + ' 踢出房間' + operationText,\n        {\n          confirmButtonText: '確定',\n          cancelButtonText: '取消',\n          inputPattern: /[^(?!\\s*$).+]/,\n          inputErrorMessage: '原因不能為空 !',\n        }\n      )\n        .then((val) => {\n          if (operation == 'block') {\n            return RoomService.postBlockUser(this.id, row.member_id, val.value)\n          } else if (operation == 'remove') {\n            return RoomService.deleteRemoveUser(\n              this.id,\n              row.member_id,\n              val.value\n            )\n          }\n        })\n        .then((res) => {\n          if (res.status == 200) {\n            this.$message({\n              type: 'success',\n              message: operationText + '成功',\n            })\n          }\n          this.memberList = this.memberList.filter(\n            (member) => member.member_id != row.member_id\n          )\n          if (operation == 'block') {\n            return this.getBlockList()\n          }\n        })\n        .then((res) => {\n          this.blockList = res.data\n        })\n        .catch((err) => {\n          console.log('[In RoomShow]', err)\n          if (err == 'cancel') {\n            this.$message({\n              type: 'info',\n              message: '取消操作',\n            })\n          }\n        })\n\n      console.log(\n        '[Success]: 執行',\n        operation,\n        '操作成功，對象:',\n        row.member_id\n      )\n    },\n    addMessage(newMessage) {\n      this.messages.push(newMessage)\n    },\n  },\n  watch: {\n    memberList: function (_memberList) {\n      this.getUserObj()\n      console.log('[watch] memberList changed:', _memberList)\n    },\n    user: function (_user) {\n      this.isAdmin =\n        _user.access_level == 'admin' || _user.access_level == 'moderator'\n          ? true\n          : false\n    },\n  },\n}\n</script>\n<style scoped>\n.mainContainer {\n  max-height: 88vh;\n}\n.mainContainer :deep(.chatRoomContainer) {\n  padding: 0 1%;\n}\n.SideBarContainer {\n  width: 160px !important;\n}\n.chatRoomContainer {\n  max-height: 100%;\n}\n.roomInfo {\n  text-align: left;\n  width: 200px !important;\n  overflow: auto;\n}\n.roomInfo p {\n  font-size: 12px;\n  margin: 0;\n}\n.member {\n  display: flex;\n  align-items: center;\n  margin: 10px 0;\n}\n.username {\n  padding-left: 10px;\n}\ninput {\n  border-style: none;\n}\n.el-icon-edit {\n  cursor: pointer;\n}\n.el-icon-edit:hover {\n  color: #409eff;\n}\n\n.demo-table-expand {\n  font-size: 0;\n}\n.demo-table-expand label {\n  width: 90px;\n  color: #2e71cf;\n}\n.demo-table-expand .el-form-item {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 50%;\n}\n</style>\n","<template>\n  <el-scrollbar class=\"messageWrapperScrollBar\">\n    <div class=\"messagesWrapper\">\n      <div\n        v-for=\"(message, index) in messages\"\n        :key=\"index\"\n        class=\"bubbleWrapper\"\n        ref=\"messageRef\"\n      >\n        <template v-if=\"message.user === myID\">\n          <div class=\"inlineContainer own\">\n            <img\n              class=\"inlineIcon\"\n              src=\"https://www.pinclipart.com/picdir/middle/205-2059398_blinkk-en-mac-app-store-ninja-icon-transparent.png\"\n            />\n            <div class=\"ownBubble own\">{{ message.text }}</div>\n          </div>\n          <span class=\"own\">{{ message.time }}</span>\n        </template>\n        <template v-else>\n          <div class=\"inlineContainer\">\n            <img\n              class=\"inlineIcon\"\n              src=\"https://cdn1.iconfinder.com/data/icons/ninja-things-1/1772/ninja-simple-512.png\"\n            />\n            <div class=\"otherBubble other\">{{ message.text }}</div>\n          </div>\n          <span class=\"other\">{{ message.time }}</span>\n        </template>\n      </div>\n    </div>\n  </el-scrollbar>\n  <el-input\n    placeholder=\"輸入訊息\"\n    v-model=\"message\"\n    @keydown=\"addMessage\"\n    class=\"messageInput\"\n  ></el-input>\n</template>\n\n<script>\n//import WsService from '@/services/WebsocketService.js'\nexport default {\n  props: ['roomws', 'messages'],\n  computed: {\n    myID: function () {\n      return this.$store.state.user_id\n    },\n  },\n  data() {\n    return {\n      message: '',\n      sendMessage: '',\n    }\n  },\n  methods: {\n    addMessage(e) {\n      if (e.key === 'Enter' && this.message) {\n        var today = new Date()\n        var hour = today.getHours()\n        var minute = today.getMinutes()\n        hour = String(hour).padStart(2, '0')\n        minute = String(minute).padStart(2, '0')\n        var currentTime = `${hour}:${minute}`\n        var newMessage = {\n          user: this.$store.state.user_id,\n          text: this.message,\n          time: currentTime,\n        }\n        this.$emit('addMessasge', newMessage)\n        // 這裡是要傳送訊息到Websocket server的code\n        let nowRoomID = parseInt(this.$route.params.id, 10)\n        console.log(this.$store.state.user_id)\n        let msgObj = {\n          header: 'message', // Message 的 header,正常message的header就叫message\n          msg_type: 'text', // Message 的 type,因為當初本來有考慮要送圖片 但現在沒有,所以type是text\n          userID: this.$store.state.user_id, //送這個message的user ID, 一開始就有存在store裡面\n          roomID: nowRoomID, // 目前的roomID,用route參數的ID來判斷\n          message: this.message, //文字訊息\n          token: this.$store.state.token, //Request 都必需附上token\n        }\n        this.roomws[nowRoomID].send(JSON.stringify(msgObj))\n        this.message = ''\n      }\n    },\n  },\n  watch: {\n    messages: {\n      immediate: true,\n      deep: true,\n      handler() {\n        this.$nextTick(function () {\n          const el = this.$refs.messageRef\n          if (el) {\n            el.scrollIntoView(false, { behavior: 'smooth' })\n          }\n        })\n      },\n    },\n  },\n}\n</script>\n\n<style>\n.messageWrapperScrollBar {\n  max-height: 90%;\n}\n.messagesWrapper {\n  height: 100%;\n  overflow: auto;\n  overflow-x: hidden;\n}\n.bubbleWrapper {\n  padding: 10px 10px;\n  display: flex;\n  justify-content: flex-end;\n  flex-direction: column;\n  align-self: flex-end;\n  color: #fff;\n  font-size: 14px;\n}\n.inlineContainer {\n  display: inline-flex;\n}\n.inlineContainer.own {\n  flex-direction: row-reverse;\n}\n.inlineIcon {\n  width: 20px;\n  object-fit: contain;\n}\n.ownBubble {\n  min-width: 20px;\n  max-width: 700px;\n  padding: 14px 18px;\n  margin: 6px 8px;\n  background-color: #5b5377;\n  border-radius: 16px 16px 0 16px;\n  border: 1px solid #443f56;\n}\n.otherBubble {\n  min-width: 20px;\n  max-width: 700px;\n  padding: 14px 18px;\n  margin: 6px 8px;\n  background-color: #6c8ea4;\n  border-radius: 16px 16px 16px 0;\n  border: 1px solid #54788e;\n}\n.own {\n  align-self: flex-end;\n}\n.other {\n  align-self: flex-start;\n}\nspan.own,\nspan.other {\n  font-size: 12px;\n  color: grey;\n}\n</style>\n","import { render } from \"./ChatRoom.vue?vue&type=template&id=56787984\"\nimport script from \"./ChatRoom.vue?vue&type=script&lang=js\"\nexport * from \"./ChatRoom.vue?vue&type=script&lang=js\"\n\nimport \"./ChatRoom.vue?vue&type=style&index=0&id=56787984&lang=css\"\nscript.render = render\n\nexport default script","import { render } from \"./RoomShow.vue?vue&type=template&id=4f684388&scoped=true\"\nimport script from \"./RoomShow.vue?vue&type=script&lang=js\"\nexport * from \"./RoomShow.vue?vue&type=script&lang=js\"\n\nimport \"./RoomShow.vue?vue&type=style&index=0&id=4f684388&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-4f684388\"\n\nexport default script","<template>\n  <div class=\"login\">\n    <el-card class=\"login-card\">\n      <h2>Login</h2>\n      <el-form\n        class=\"login-form\"\n        :model=\"model\"\n        :rules=\"rules\"\n        ref=\"form\"\n        @submit.prevent=\"login\"\n      >\n        <el-form-item prop=\"email\">\n          <el-input\n            v-model=\"model.email\"\n            placeholder=\"Email\"\n            prefix-icon=\"el-icon-user\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item prop=\"password\">\n          <el-input\n            v-model=\"model.password\"\n            placeholder=\"Password\"\n            type=\"password\"\n            prefix-icon=\"el-icon-lock\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button\n            :loading=\"loading\"\n            class=\"login-button\"\n            type=\"primary\"\n            native-type=\"submit\"\n            block\n            >Login</el-button\n          >\n        </el-form-item>\n        <a class=\"forgot-password\" href=\"\">Forgot password ?</a>\n      </el-form>\n    </el-card>\n    <input type=\"text\" v-model=\"ttoo\">\n    <button @click=\"pu\">pu</button>\n  </div>\n</template>\n\n<script>\n// import TokenService from '@/services/TokenService.js'\n\nexport default {\n  data() {\n    return {\n      model: {\n        email: '',\n        password: '',\n      },\n      ttoo: '',\n      loading: false,\n      rules: {\n        email: [\n          {\n            required: true,\n            message: 'Email is required',\n            trigger: 'blur',\n          },\n          {\n            min: 4,\n            message: 'Email length should be at least 4 characters',\n            trigger: 'blur',\n          },\n        ],\n        password: [\n          { required: true, message: 'Password is required', trigger: 'blur' },\n          {\n            min: 4,\n            message: 'Password length should be at least 5 characters',\n            trigger: 'blur',\n          },\n        ],\n      },\n    }\n  },\n  created() {\n    this.forDev()\n  },\n  methods: {\n    pu() {\n      localStorage.setItem('token', this.ttoo)\n      console.log(this.ttoo)\n    },\n    forDev() {\n      this.model.email = 'test1@test.com'\n      this.model.password = 'test1'\n    },\n    Login() {\n      this.$store\n        .dispatch('login', this.model)\n        .then(() => {\n          this.$message.success('Login successfull')\n          //console.log(this.$store.getters.getToken)\n          this.$router.go(-1)\n        })\n        .catch((res) => {\n          console.log('Login Failed:', res)\n          this.$message.error('Email or password is invalid')\n        })\n    },\n    simulateLogin() {\n      return new Promise((resolve) => {\n        setTimeout(resolve, 800)\n      })\n    },\n    async login() {\n      let valid = await this.$refs.form.validate()\n      if (!valid) {\n        return\n      }\n      this.loading = true\n      await this.Login()\n      this.loading = false\n    },\n  },\n}\n</script>\n\n<style scoped>\n/* https://codesandbox.io/s/l9v2vyypm?file=/src/components/Login.vue */\n/* https://www.gushiciku.cn/pl/g60t/zh-tw */\n.login {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  /* background-image: url('https://www.ntu.edu.tw/12scence/01b1.jpg'); */\n  /* background-size: cover; */\n}\n.login:before {\n  background-image: url('https://www.ntu.edu.tw/12scence/01b1.jpg');\n  width: 100%;\n  height: 100%;\n  background-size: cover;\n  content: '';\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: -1;\n  display: block;\n  filter: blur(7px);\n}\n.login-card {\n  background: rgba(255, 255, 255, 0.39);\n  border: none;\n  color: #ffffff;\n}\n.login-form .el-input input {\n  background: rgba(255, 255, 255, 0.2);\n}\n.login-form {\n  width: 290px;\n}\n.forgot-password {\n  margin-top: 10px;\n}\n.login-button {\n  width: 100%;\n  margin-top: 40px;\n}\n.login .el-input__prefix {\n  background: rgb(238, 237, 234);\n  left: 0;\n  height: calc(100% - 2px);\n  left: 1px;\n  top: 1px;\n  border-radius: 3px;\n}\n</style>\n","import { render } from \"./Login.vue?vue&type=template&id=19c24d53&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=19c24d53&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-19c24d53\"\n\nexport default script","<template>\n  <!-- id, title, introduction, create_time, valid_time, room_type, room_category,\n  people_limit -->\n\n  <div>\n    <h2>您的 User ID: {{ id }}</h2>\n    <el-container class=\"create-form\">\n      <el-form ref=\"form\" :model=\"room\" label-width=\"80px\">\n        <h1>Create an Room</h1>\n        <el-form-item label=\"Title\">\n          <el-input v-model=\"room.title\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"createEvent\">Create Room</el-button>\n          <!-- @submit.prevent=\"createEvent\" -->\n          <el-button>Cancel</el-button>\n        </el-form-item>\n      </el-form>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport RoomService from '@/services/RoomService.js'\n\nexport default {\n  components: null,\n  data() {\n    return {\n      //categories: this.$store.state.categories,\n      //old_room: this.createFreshRoomObject(),\n      room: {\n        organizer: '1',\n        capacity: 0,\n        title: '2',\n        region: '3',\n        date1: '4',\n        date2: '5',\n        invite: false,\n        tag: [],\n        type: '6',\n        description: '7',\n      },\n      id: '',\n    }\n  },\n  created() {\n    //this.checkAuth()\n    RoomService.getUserId()\n      .then((res) => {\n        this.id = res.data.id\n      })\n      .catch((err) => {\n        console.log('[err in user]', err)\n      })\n  },\n  methods: {\n    checkAuth() {\n      this.$store.state.token &&\n        this.$store\n          .dispatch('verifyToken', this.event)\n          .then((resVerify) => {\n            console.log('verifyToken Result：' + resVerify)\n            return this.init()\n          })\n          .catch((err) => {\n            console.log('[RoomCreate.vue]', err)\n            window.location.href = '/login'\n          })\n    },\n    init() {\n      console.log('exec init')\n    },\n    createEvent() {\n      this.$store\n        .dispatch('createEvent', this.event)\n        .then(() => {\n          this.$router.push({\n            name: 'event-show',\n            params: { id: this.event.id },\n          })\n          this.event = this.createFreshEventObject()\n        })\n        .catch(() => {\n          console.log('There was a problem creating your event')\n        })\n    },\n    createFreshRoomObject() {\n      const user = this.$store.state.user\n\n      return {\n        user: user,\n        department: '',\n        organizer: user, // owner\n        title: '',\n        description: '',\n        capacity: 10,\n        type: 'public',\n      }\n    },\n  },\n  computed: {\n    ...mapGetters(['isAuth']),\n  },\n}\n</script>\n<style scoped>\n.create-form {\n  justify-content: center;\n}\n</style>\n","import { render } from \"./UserPage.vue?vue&type=template&id=196d86f1&scoped=true\"\nimport script from \"./UserPage.vue?vue&type=script&lang=js\"\nexport * from \"./UserPage.vue?vue&type=script&lang=js\"\n\nimport \"./UserPage.vue?vue&type=style&index=0&id=196d86f1&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-196d86f1\"\n\nexport default script","<template>\n  <div class=\"resetPWD\">\n    <el-card class=\"reset-card\">\n      <h2>重設密碼</h2>\n      <el-form\n        class=\"reset-form\"\n        :model=\"model\"\n        :rules=\"rules\"\n        ref=\"form\"\n        @submit.prevent=\"submit\"\n      >\n        <el-form-item prop=\"password\" label=\"新密碼\">\n          <el-input\n            v-model=\"model.password\"\n            placeholder=\"Input password\"\n            type=\"password\"\n            prefix-icon=\"fas fa-lock\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item prop=\"repeatPassword\" label=\"再輸入一次\">\n          <el-input\n            v-model=\"model.repeatPassword\"\n            placeholder=\"Input password again\"\n            type=\"password\"\n            prefix-icon=\"fas fa-repeat\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button\n            :loading=\"loading\"\n            class=\"login-button\"\n            type=\"primary\"\n            native-type=\"submit\"\n            block\n            >提交</el-button\n          >\n        </el-form-item>\n      </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport RoomService from '@/services/RoomService.js'\n\nexport default {\n  props: ['userToken', 'mailToken'],\n  data() {\n    var validatePass2 = (rule, value, callback) => {\n      if (value !== this.model.password) {\n        callback(new Error('兩次輸入密碼不一致 !'))\n      } else {\n        callback()\n      }\n    }\n    return {\n      loading: false,\n      model: {\n        password: '',\n        repeatPassword: '',\n      },\n\n      rules: {\n        password: [\n          {\n            required: true,\n            message: 'Password is required',\n            trigger: 'blur',\n          },\n          {\n            min: 4,\n            message: 'Password length should be at least 4 characters',\n            trigger: 'blur',\n          },\n        ],\n        repeatPassword: [\n          { required: true, message: 'Password is required', trigger: 'blur' },\n          {\n            min: 4,\n            message: 'Password length should be at least 4 characters',\n            trigger: 'blur',\n          },\n          { validator: validatePass2, trigger: 'blur' },\n        ],\n      },\n    }\n  },\n  created() {\n    this.forDev()\n  },\n  methods: {\n    forDev() {\n      this.model.password = 'test'\n      this.model.repeatPassword = 'test'\n    },\n    submitReset() {\n      console.log('submitReset')\n      return RoomService.postResetPassword(\n        this.userToken,\n        this.mailToken,\n        this.model.password\n      )\n    },\n    simulateLogin() {\n      return new Promise((resolve) => {\n        setTimeout(resolve, 800)\n      })\n    },\n    async submit() {\n      let valid = await this.$refs.form.validate()\n      if (!valid) {\n        return\n      }\n      this.loading = true\n      await this.submitReset()\n        .then((res) => {\n          this.$message.success('修改成功 !')\n          console.log(res)\n          this.$router.push({\n            name: 'login',\n          })\n        })\n        .catch((err) => {\n          this.$message.error('有些問題發生了 ! 請聯繫管理員 QQ')\n          console.log(err)\n        })\n      this.loading = false\n    },\n  },\n}\n</script>\n<style scoped>\n/* https://codesandbox.io/s/l9v2vyypm?file=/src/components/Login.vue */\n/* https://www.gushiciku.cn/pl/g60t/zh-tw */\n.resetPWD {\n  /* flex: 1; */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  /* background-image: url('https://www.ntu.edu.tw/12scence/01b1.jpg'); */\n  /* background-size: cover; */\n}\n.resetPWD:before {\n  background-image: url('https://www.ntu.edu.tw/12scence/01b1.jpg');\n  width: 100%;\n  height: 100%;\n  background-size: cover;\n  content: '';\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: -1;\n  display: block;\n  filter: blur(7px);\n}\n.reset-card {\n  background: rgba(255, 255, 255, 0.39);\n  border: none;\n  color: #ffffff;\n}\n.reset-form .el-input input {\n  background: rgba(255, 255, 255, 0.2);\n}\n.reset-form {\n  width: 290px;\n}\n.reset-button {\n  width: 100%;\n  margin-top: 40px;\n}\n.resetPWD .el-input__prefix {\n  background: rgb(238, 237, 234);\n  left: 0;\n  height: calc(100% - 2px);\n  left: 1px;\n  top: 1px;\n  border-radius: 3px;\n}\n</style>\n","import { render } from \"./MailRedirect.vue?vue&type=template&id=51d37446&scoped=true\"\nimport script from \"./MailRedirect.vue?vue&type=script&lang=js\"\nexport * from \"./MailRedirect.vue?vue&type=script&lang=js\"\n\nimport \"./MailRedirect.vue?vue&type=style&index=0&id=51d37446&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-51d37446\"\n\nexport default script","<template>\n  <div class=\"cr-container\">\n    <div class=\"mars\"></div>\n    <img\n      v-if=\"type == '404'\"\n      src=\"https://assets.codepen.io/1538474/404.svg\"\n      class=\"logo-404\"\n    />\n    <img src=\"https://assets.codepen.io/1538474/meteor.svg\" class=\"meteor\" />\n    <p class=\"title\">{{ title }}</p>\n    <p class=\"subtitle\">\n      {{ description }}\n    </p>\n    <div align=\"center\">\n      <a class=\"btn-back\" href=\"/\">Back to home page</a>\n    </div>\n    <img\n      src=\"https://assets.codepen.io/1538474/astronaut.svg\"\n      class=\"astronaut\"\n    />\n    <img\n      src=\"https://assets.codepen.io/1538474/spaceship.svg\"\n      class=\"spaceship\"\n    />\n  </div>\n</template>\n\n<script>\nimport RoomService from '@/services/RoomService.js'\n\nexport default {\n  props: ['type', 'token', 'userToken'],\n  data() {\n    return {\n      title: 'Oh no!!',\n      description:\n        \"You’re either misspelling the URL \\n or requesting a page that's no longer here.\",\n    }\n  },\n  created() {\n    this.init()\n  },\n  methods: {\n    init() {\n      // getMailVerify\n      if (this.type == 'verify-mail') {\n        this.title = 'Mail Verification'\n        RoomService.getMailVerify(this.userToken, this.token)\n          .then((res) => {\n            if (res.data == 'success') {\n              this.description = 'Verify Successful !'\n            } else {\n              console.log(res.data)\n            }\n          })\n          .catch((err) => {\n            this.description = err.data\n          })\n      } else if (this.type == 'permission-deny') {\n        this.title = 'Permission Deny'\n        this.description =\n          '可能是因為您不是該房間成員、或是已被封鎖 \\n 故無法進入該房間 !'\n      }\n    },\n  },\n}\n</script>\n\n<style scoped>\n/* REF: https://codepen.io/AsyrafHussin/pen/KxWRrK */\n\n.subtitle {\n  white-space: pre;\n}\n\n@import url('https://fonts.googleapis.com/css?family=Nunito:400,600,700');\n@keyframes floating {\n  from {\n    transform: translateY(0px);\n  }\n  65% {\n    transform: translateY(15px);\n  }\n  to {\n    transform: translateY(0px);\n  }\n}\n/* html {\n  height: 100%;\n} */\n.cr-container {\n  background-image: url(https://assets.codepen.io/1538474/star.svg),\n    linear-gradient(to bottom, #05007a, #4d007d);\n\n  height: 100%;\n  margin: 0;\n  background-attachment: fixed;\n  overflow: hidden;\n}\n.mars {\n  left: 0;\n  right: 0;\n  bottom: 0;\n  position: absolute;\n  height: 27vmin;\n  background: url('https://assets.codepen.io/1538474/mars.svg') no-repeat bottom\n    center;\n  background-size: cover;\n}\n.logo-404 {\n  position: absolute;\n  margin-left: auto;\n  margin-right: auto;\n  left: 0;\n  right: 0;\n  top: 16vmin;\n  width: 30vmin;\n}\n@media (max-width: 480px) and (min-width: 320px) {\n  .logo-404 {\n    top: 45vmin;\n  }\n}\n.meteor {\n  position: absolute;\n  right: 2vmin;\n  top: 16vmin;\n}\n.title {\n  color: white;\n  font-family: 'Nunito', sans-serif;\n  font-weight: 600;\n  text-align: center;\n  font-size: 5vmin;\n  margin-top: 31vmin;\n}\n@media (max-width: 480px) and (min-width: 320px) {\n  .title {\n    margin-top: 65vmin;\n  }\n}\n.subtitle {\n  color: white;\n  font-family: 'Nunito', sans-serif;\n  font-weight: 400;\n  text-align: center;\n  font-size: 3.5vmin;\n  margin-top: -1vmin;\n  margin-bottom: 9vmin;\n}\n.btn-back {\n  border: 1px solid white;\n  color: white;\n  height: 5vmin;\n  padding: 12px;\n  font-family: 'Nunito', sans-serif;\n  text-decoration: none;\n  border-radius: 5px;\n}\n.btn-back:hover {\n  background: white;\n  color: #4d007d;\n}\n@media (max-width: 480px) and (min-width: 320px) {\n  .btn-back {\n    font-size: 3.5vmin;\n  }\n}\n.astronaut {\n  position: absolute;\n  top: 18vmin;\n  left: 10vmin;\n  height: 30vmin;\n  animation: floating 3s infinite ease-in-out;\n}\n@media (max-width: 480px) and (min-width: 320px) {\n  .astronaut {\n    top: 2vmin;\n  }\n}\n.spaceship {\n  position: absolute;\n  bottom: 15vmin;\n  right: 24vmin;\n}\n@media (max-width: 480px) and (min-width: 320px) {\n  .spaceship {\n    width: 45vmin;\n    bottom: 18vmin;\n  }\n}\n</style>\n","import { render } from \"./CommonRedirect.vue?vue&type=template&id=2a49a6ef&scoped=true\"\nimport script from \"./CommonRedirect.vue?vue&type=script&lang=js\"\nexport * from \"./CommonRedirect.vue?vue&type=script&lang=js\"\n\nimport \"./CommonRedirect.vue?vue&type=style&index=0&id=2a49a6ef&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-2a49a6ef\"\n\nexport default script","<template>\n  <div class=\"register\">\n    <el-card class=\"register-card\">\n      <h2>註冊</h2>\n      <el-form\n        class=\"register-form\"\n        :model=\"model\"\n        :rules=\"rules\"\n        ref=\"form\"\n        @submit.prevent=\"register\"\n      >\n        <el-form-item\n          label=\"E-mail (* 僅可用 ntu.edu.tw 註冊，填學號)\"\n          prop=\"email\"\n        >\n          <el-col :span=\"12\">\n            <el-input\n              v-model=\"model.email\"\n              placeholder=\"Email\"\n              prefix-icon=\"el-icon-user\"\n            >\n            </el-input>\n          </el-col>\n          <el-col :span=\"7\">\n            <span>@ntu.edu.tw</span>\n          </el-col>\n        </el-form-item>\n        <el-form-item label=\"密碼\" prop=\"password\">\n          <el-input\n            v-model=\"model.password\"\n            placeholder=\"請輸入密碼\"\n            type=\"password\"\n            prefix-icon=\"el-icon-lock\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"請再輸入一次密碼\" prop=\"password2\">\n          <el-input\n            v-model=\"model.password2\"\n            placeholder=\"再輸入一次密碼\"\n            type=\"password\"\n            prefix-icon=\"el-icon-lock\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"姓名\" required>\n          <el-col :span=\"8\">\n            <el-form-item prop=\"last_name\">\n              <el-input\n                prefix-icon=\"el-icon-user\"\n                v-model=\"model.last_name\"\n                placeholder=\"姓\"\n              >\n              </el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item prop=\"first_name\">\n              <el-input v-model=\"model.first_name\" placeholder=\"名\"></el-input>\n            </el-form-item>\n          </el-col>\n        </el-form-item>\n        <el-form-item label=\"系籍\" prop=\"department\" required>\n          <el-input\n            v-model=\"model.department\"\n            placeholder=\"系籍\"\n            prefix-icon=\"el-icon-folder\"\n          >\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"暱稱\" prop=\"nickname\" required>\n          <el-input\n            v-model=\"model.nickname\"\n            placeholder=\"Nickname\"\n            prefix-icon=\"el-icon-chat-round\"\n          >\n          </el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button\n            :loading=\"loading\"\n            class=\"register-button\"\n            type=\"primary\"\n            native-type=\"submit\"\n            block\n            >提交</el-button\n          >\n        </el-form-item>\n      </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport RoomService from '@/services/RoomService.js'\n\nexport default {\n  data() {\n    var validatePass2 = (rule, value, callback) => {\n      if (value !== this.model.password) {\n        callback(new Error('兩次輸入密碼不一致 !'))\n      } else {\n        callback()\n      }\n    }\n    return {\n      model: {\n        email: '',\n        password: '',\n        password2: '',\n        last_name: '',\n        first_name: '',\n        department: '',\n        nickname: '',\n      },\n      loading: false,\n      rules: {\n        email: [\n          {\n            required: true,\n            message: '必須填寫(寫學號就好)',\n            trigger: 'blur',\n          },\n          {\n            min: 4,\n            message: 'Email length should be at least 4 characters',\n            trigger: 'blur',\n          },\n        ],\n        password: [\n          { required: true, message: '必須填寫', trigger: 'blur' },\n          {\n            min: 4,\n            message: '請設定至少四個字以上',\n            trigger: 'blur',\n          },\n        ],\n        password2: [\n          { required: true, message: '必須填寫', trigger: 'blur' },\n          {\n            min: 4,\n            message: '請設定至少四個字以上',\n            trigger: 'blur',\n          },\n          { validator: validatePass2, trigger: 'blur' },\n        ],\n        last_name: [\n          { required: true, message: '姓 必須填寫', trigger: 'blur' },\n        ],\n        first_name: [\n          { required: true, message: '名 必須填寫', trigger: 'blur' },\n        ],\n        department: [\n          { required: true, message: '系籍必須填寫', trigger: 'blur' },\n        ],\n        nickname: [\n          { required: true, message: '暱稱必須填寫', trigger: 'blur' },\n        ],\n      },\n    }\n  },\n  created() {\n    this.forDev()\n  },\n  methods: {\n    forDev() {\n      this.model.email = 'r09921119'\n      this.model.password = 'test'\n      this.model.password2 = 'test'\n      this.model.last_name = '許'\n      this.model.first_name = '凱荃'\n      this.model.department = '電機系'\n      this.model.nickname = 'MeteorV'\n    },\n    submitRegister() {\n      console.log('submitRegister')\n      let t = Object.assign({}, this.model)\n      t.email = t.email + '@ntu.edu.tw'\n      return RoomService.postRegister(t)\n    },\n    simulateLogin() {\n      return new Promise((resolve) => {\n        setTimeout(resolve, 800)\n      })\n    },\n    async register() {\n      let valid = await this.$refs.form.validate()\n      if (!valid) {\n        return\n      }\n      this.loading = true\n      await this.submitRegister()\n        .then((res) => {\n          this.$message.success('註冊成功 ! 記得去信箱收信 !')\n          console.log(res)\n          this.$router.push({\n            name: 'login',\n          })\n        })\n        .catch((err) => {\n          for (let [key, val] of Object.entries(err.data)) {\n            this.$message.error(key + ': ' + val[0])\n            console.log(key + ': ' + val[0])\n          }\n        })\n      this.loading = false\n    },\n  },\n}\n</script>\n\n<style scoped>\n/* https://codesandbox.io/s/l9v2vyypm?file=/src/components/Login.vue */\n/* https://www.gushiciku.cn/pl/g60t/zh-tw */\n.register {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  /* background-image: url('https://www.ntu.edu.tw/12scence/01b1.jpg'); */\n  /* background-size: cover; */\n}\n.register:before {\n  background-image: url('https://www.ntu.edu.tw/12scence/01b1.jpg');\n  width: 100%;\n  height: 100%;\n  background-size: cover;\n  content: '';\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: -1;\n  display: block;\n  filter: blur(7px);\n}\n.register-card {\n  background: rgba(255, 255, 255, 0.7);\n  border: none;\n  text-align: center;\n  /* color: #ffffff; */\n}\n.register-form .el-input input {\n  background: rgba(255, 255, 255, 0.2);\n}\n.register-form {\n  width: 80%;\n  display: inline-block;\n}\n.forgot-password {\n  margin-top: 10px;\n}\n.register-button {\n  width: 100%;\n  margin-top: 40px;\n}\n.register .el-input__prefix {\n  background: rgb(238, 237, 234);\n  left: 0;\n  height: calc(100% - 2px);\n  left: 1px;\n  top: 1px;\n  border-radius: 3px;\n}\n</style>\n","import { render } from \"./Register.vue?vue&type=template&id=9ec4355a&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=9ec4355a&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-9ec4355a\"\n\nexport default script","import { createRouter, createWebHistory } from \"vue-router\";\n/*import Component*/\nimport Home from \"../views/Home.vue\";\nimport RoomCreate from '@/views/RoomCreate.vue'\n//import RoomList from './views/RoomList.vue'\nimport RoomShow from '@/views/RoomShow.vue'\nimport LoginPage from '@/views/Login.vue'\nimport UserPage from '@/views/UserPage.vue'\nimport MailRedirect from '@/views/MailRedirect.vue'\nimport CommonRedirect from '@/views/CommonRedirect.vue'\nimport RegisterPage from '@/views/Register.vue'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: Home,\n  },\n  {\n    path: '/room/create',\n    name: 'room-create',\n    component: RoomCreate,\n  },\n  {\n    path: '/room/:id',\n    name: 'room-show',\n    component: RoomShow,\n    props: true,\n  },\n  {\n    path: '/about',\n    name: 'about',\n    // lazy-loaded when the route is visited.\n    component: () =>\n      import(/* webpackChunkName: \"about\" */ '../views/About.vue'),\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: LoginPage,\n  },\n  {\n    path: '/register',\n    name: 'register',\n    component: RegisterPage,\n  },\n  {\n    path: '/forgetpwd/:userToken/:mailToken',\n    name: 'mail-verify',\n    component: MailRedirect,\n    props: true,\n  },\n  {\n    path: '/profile',\n    name: 'profile',\n    component: UserPage,\n  },\n  {\n    path: '/:type',\n    name: 'unknow-redirect',\n    component: CommonRedirect,\n    props: true,\n  },\n  {\n    path: '/:type/:userToken/:token',\n    name: 'verify-mail',\n    component: CommonRedirect,\n    props: true,\n  },\n]\n\nconst router = createRouter({\n  /* mode: 'history', */\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n});\n\nexport default router;\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NavBar.vue?vue&type=style&index=0&id=2ada9471&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=19c24d53&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RoomCard.vue?vue&type=style&index=0&id=0591ce70&scoped=true&lang=css\"","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"ef13\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Home.vue?vue&type=style&index=0&id=139dc7c4&scoped=true&lang=css\""],"sourceRoot":""}